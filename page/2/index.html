<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Dachmx web log</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="keywords" content="blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Dachmx web log">
<meta property="og:url" content="http://dachmx.github.io/page/2/index.html">
<meta property="og:site_name" content="Dachmx web log">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dachmx web log">
  
    <link rel="alternate" href="/atom.xml" title="Dachmx web log" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Dachmx web log</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">just record and just share</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://dachmx.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-android/explationamongfastbootrecoveryandbootloader" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/01/android/explationamongfastbootrecoveryandbootloader/" class="article-date">
  <time datetime="2015-12-31T16:00:00.000Z" itemprop="datePublished">2016-01-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/01/android/explationamongfastbootrecoveryandbootloader/">Explation Among Fastboot, Recovery and Bootloader 1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="The-Process-of-Android-Boot"><a href="#The-Process-of-Android-Boot" class="headerlink" title="The Process of Android Boot"></a>The Process of Android Boot</h2><p><img src="/img/androidbootingprocess.png" alt="recovery2"></p>
<p>Recovery.img, which consists of boot_img_hdr + zImage + recovery-ramdisk. Boot_img_hd is a structure it describes a lot of important information.</p>
<p><img src="/img/bootrecovery1.jpg" alt="recovery1"></p>
<p>This flowchart simply describes the flow of the bootloader in the bootloader. When the device power or Reboot into the bootloader will detect whether there is a special key is pressed at that time is the KeyPress in the flowchart, for example, a cell phone while pressing the camera key + volume key will enter the recovery. Some people will ask how to detect the button is pressed? Is very simple to read the value of the keyboard control register, if you are a GPIO button GPIO register. If no key is pressed, the bootloader reads the bootloader_message structure information in the misc partition.</p>
<h2 id="Android-Partitions-Explained-boot-system-recovery-data-cache-amp-misc"><a href="#Android-Partitions-Explained-boot-system-recovery-data-cache-amp-misc" class="headerlink" title="Android Partitions Explained: boot, system, recovery, data, cache &amp; misc"></a>Android Partitions Explained: boot, system, recovery, data, cache &amp; misc</h2><p>Let’s start with a list of standard internal memory partitions on Android phones and tablets. These are:</p>
<ul>
<li>/boot</li>
<li>/system</li>
<li>/recovery</li>
<li>/data</li>
<li>/cache</li>
<li>/misc</li>
</ul>
<p>In addition, there are the SD card partitions.</p>
<ul>
<li>/sdcard</li>
<li>/sd-ext</li>
</ul>
<p>Note that only /sdcard is found in all Android devices and the rest are present only in select devices. Let’s now take a look at the purpose and contents of each of these partitions.</p>
<h3 id="boot"><a href="#boot" class="headerlink" title="/boot"></a>/boot</h3><p>This is the partition that enables the phone to boot, as the name suggests. It includes the kernel and the ramdisk. Without this partition, the device will simply not be able to boot. Wiping this partition from recovery should only be done if absolutely required and once done, the device must NOT be rebooted before installing a new one, which can be done by installing a ROM that includes a /boot partition.</p>
<h3 id="system"><a href="#system" class="headerlink" title="/system"></a>/system</h3><p>This partition basically contains the entire operating system, other than the kernel and the ramdisk. This includes the Android user interface as well as all the system applications that come pre-installed on the device. Wiping this partition will remove Android from the device without rendering it unbootable, and you will still be able to put the phone into recovery or bootloader mode to install a new ROM.</p>
<h3 id="recovery"><a href="#recovery" class="headerlink" title="/recovery"></a>/recovery</h3><p>The recovery partition can be considered as an alternative boot partition that lets you boot the device into a recovery console for performing advanced recovery and maintenance operations on it. To learn more about this partition and its contents, see the ‘About Android Recovery’ section of our guide to ClockworkMod recovery.</p>
<h3 id="data"><a href="#data" class="headerlink" title="/data"></a>/data</h3><p>Also called userdata, the data partition contains the user’s data – this is where your contacts, messages, settings and apps that you have installed go. Wiping this partition essentially performs a factory reset on your device, restoring it to the way it was when you first booted it, or the way it was after the last official or custom ROM installation. When you perform a wipe data/factory reset from recovery, it is this partition that you are wiping.</p>
<h3 id="cache"><a href="#cache" class="headerlink" title="/cache"></a>/cache</h3><p>This is the partition where Android stores frequently accessed data and app components. Wiping the cache doesn’t effect your personal data but simply gets rid of the existing data there, which gets automatically rebuilt as you continue using the device.</p>
<h3 id="misc"><a href="#misc" class="headerlink" title="/misc"></a>/misc</h3><p>This partition contains miscellaneous system settings in form of on/off switches. These settings may include CID (Carrier or Region ID), USB configuration and certain hardware settings etc. This is an important partition and if it is corrupt or missing, several of the device’s features will will not function normally.</p>
<h3 id="sdcard"><a href="#sdcard" class="headerlink" title="/sdcard"></a>/sdcard</h3><p>This is not a partition on the internal memory of the device but rather the SD card. In terms of usage, this is your storage space to use as you see fit, to store your media, documents, ROMs etc. on it. Wiping it is perfectly safe as long as you backup all the data you require from it, to your computer first. Though several user-installed apps save their data and settings on the SD card and wiping this partition will make you lose all that data.</p>
<p>On devices with both an internal and an external SD card – devices like the Samsung Galaxy S and several tablets – the /sdcard partition is always used to refer to the internal SD card. For the external SD card – if present – an alternative partition is used, which differs from device to device. In case of Samsung Galaxy S series devices, it is /sdcard/sd while in many other devices, it is /sdcard2. Unlike /sdcard, no system or app data whatsoever is stored automatically on this external SD card and everything present on it has been added there by the user. You can safely wipe it after backing up any data from it that you need to save.</p>
<h3 id="sd-ext"><a href="#sd-ext" class="headerlink" title="/sd-ext"></a>/sd-ext</h3><p>This is not a standard Android partition, but has become popular in the custom ROM scene. It is basically an additional partition on your SD card that acts as the /data partition when used with certain ROMs that have special features called APP2SD+ or data2ext enabled. It is especially useful on devices with little internal memory allotted to the /data partition. Thus, users who want to install more programs than the internal memory allows can make this partition and use it with a custom ROM that supports this feature, to get additional storage for installing their apps. Wiping this partition is essentially the same as wiping the /data partition – you lose your contacts, SMS, market apps and settings.</p>
<p>With this, we conclude our tour of Android partitions. Now whenever you install a ROM or mod that requires you to wipe certain partitions before the installation, you should be in a better position to know what you’re losing and what not and thus, you’ll know what to backup and what not.</p>
<h2 id="reference-articles"><a href="#reference-articles" class="headerlink" title="reference articles:"></a>reference articles:</h2><p><a href="https://tektab.com/2015/10/31/android-bootloaderfastboot-mode-and-recovery-mode-explained/" target="_blank" rel="noopener">explation1</a></p>
<p><a href="http://www.addictivetips.com/mobile/android-partitions-explained-boot-system-recovery-data-cache-misc/" target="_blank" rel="noopener">explation2</a></p>
<p><a href="http://www.cnblogs.com/becklc/archive/2012/09/24/2676600.html" target="_blank" rel="noopener">explation3</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://dachmx.github.io/2016/01/01/android/explationamongfastbootrecoveryandbootloader/" data-id="cjugo67w7000dnkuw8wo8f358" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/bootloader/">bootloader</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fastboot/">fastboot</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kernel/">kernel</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/net/">net</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/recovery/">recovery</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rom/">rom</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/update/">update</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-architecture/Mavenbuildspringbootmultimoduleproject" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/10/architecture/Mavenbuildspringbootmultimoduleproject/" class="article-date">
  <time datetime="2015-12-09T16:00:00.000Z" itemprop="datePublished">2015-12-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/10/architecture/Mavenbuildspringbootmultimoduleproject/">Maven build spring boot multi-module project</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-idea-Create-a-maven-project"><a href="#1-idea-Create-a-maven-project" class="headerlink" title="1.idea Create a maven project"></a>1.idea Create a maven project</h3><p>1-1: Delete the src, target directory, leaving only pom.xml</p>
<p>1-2: root directory pom.xml can be sub-module inheritance, the project is just demo, not consider too many performance issues, so many dependencies</p>
<p>Are written in the root level <code>pom.xml</code>, sub-module can be used only to inherit.</p>
<p>1-3: The root level pom.xml file is in Appendix 1</p>
<p>1-4: depend on the module mybatis spring-boot related modules</p>
<h3 id="2-Create-a-sub-module-module"><a href="#2-Create-a-sub-module-module" class="headerlink" title="2. Create a sub-module (module)"></a>2. Create a sub-module (module)</h3><p>2-1: file&gt; new&gt; module Enter the model</p>
<p>2-2: file&gt; new&gt; module Enter dao</p>
<p>2-3: file&gt; new&gt; module Enter service</p>
<p>2-4: file&gt; new&gt; module Enter webapi</p>
<h3 id="3-Modify-the-submodule-pom-xml-configuration"><a href="#3-Modify-the-submodule-pom-xml-configuration" class="headerlink" title="3. Modify the submodule pom.xml configuration"></a>3. Modify the submodule pom.xml configuration</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;? Xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;Project xmlns = &quot;http://maven.apache.org/POM/4.0.0&quot;</span><br><span class="line">         Xmlns: xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">         Xsi: schemaLocation = &quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">    &lt;Parent&gt;</span><br><span class="line">        &lt;ArtifactId&gt; parent &lt;/ artifactId&gt;</span><br><span class="line">        &lt;GroupId&gt; com.luyh.projectv1 &lt;/ groupId&gt;</span><br><span class="line">        &lt;Version&gt; 1.0-SNAPSHOT &lt;/ version&gt;</span><br><span class="line">        &lt;RelativePath&gt; ../ pom.xml &lt;/ relativePath&gt;</span><br><span class="line">    &lt;/ Parent&gt;</span><br><span class="line">    &lt;ModelVersion&gt; 4.0.0 &lt;/ modelVersion&gt;</span><br><span class="line"></span><br><span class="line">    &lt;ArtifactId&gt; projectv1-model &lt;/ artifactId&gt;</span><br><span class="line">&lt;/ Project&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:  ../pom.xml This section must be added to inherit the parent module</p>
</blockquote>
<p>At this point, the project’s infrastructure structure is completed, the next line of code can be, oh oh wait, I first introduce the work of the various sub-module responsibilities</p>
<h3 id="4-Sub-module-in-the-project-as-the-‘job-responsibilities’"><a href="#4-Sub-module-in-the-project-as-the-‘job-responsibilities’" class="headerlink" title="4. Sub-module in the project as the ‘job responsibilities’"></a>4. Sub-module in the project as the ‘job responsibilities’</h3><p>This module holds all entity classes</p>
<p>Dao This module holds the concrete realization of data interaction for service call</p>
<p>Service This module holds the business code implementation for API level invocation</p>
<p>Webapi this module can not appear in the project, in order to write demo webapi layer will come in</p>
<h3 id="5-model-layer-entity-class-written"><a href="#5-model-layer-entity-class-written" class="headerlink" title="5.model layer entity class written"></a>5.model layer entity class written</h3><p>Create the package name com.luyh.projectv1.model</p>
<p>Construction entity class Member.java specific code Please clone my git, git address in the bottom</p>
<h3 id="6-dao-layer-database-operation-layer"><a href="#6-dao-layer-database-operation-layer" class="headerlink" title="6.dao layer database operation layer"></a>6.dao layer database operation layer</h3><p>The establishment of com.luyh.projectv1.dao.config, the package is only 2 to spring boot automatically configured to configure </p>
<p>the configuration of java class</p>
<p>MemberMapper.java specific content to see the code</p>
<p>Create a MemberMapper.xml under resources / mybatis</p>
<p>Create IMember.java</p>
<p>Create Member.java Imember interface</p>
<p>Create the resources / application.properties file to configure the database connection</p>
<h3 id="7-Service-write-business-logic"><a href="#7-Service-write-business-logic" class="headerlink" title="7. Service write business logic"></a>7. Service write business logic</h3><p>Create the com.luyh.projectv1.service package</p>
<p>Create the IMemberService.java interface</p>
<p>Create a MemberService.java implementation class</p>
<p>The MemberService.java class automatically injects DaoMember and calls its methods to get the data</p>
<h3 id="8-webapi-Write-webapi-to-get-json-data"><a href="#8-webapi-Write-webapi-to-get-json-data" class="headerlink" title="8. webapi Write webapi to get json data"></a>8. webapi Write webapi to get json data</h3><p>Build Application.java Start the application</p>
<p>Create com.luyh.projectv1.webapi.controller.MemberController.java write a rest style Controller</p>
<p>start up</p>
<h3 id="9-sql-file-Please-import-mysql-data-sql-file"><a href="#9-sql-file-Please-import-mysql-data-sql-file" class="headerlink" title="9.sql file Please import mysql data sql file"></a>9.sql file Please import mysql data sql file</h3><p>Here is the project address, <a href="https://github.com/luyunhua/spring-boot-base" target="_blank" rel="noopener">click</a> to download</p>
<h3 id="Appendix-1"><a href="#Appendix-1" class="headerlink" title="Appendix 1"></a>Appendix 1</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;? Xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;Project xmlns = &quot;http://maven.apache.org/POM/4.0.0&quot;</span><br><span class="line">         Xmlns: xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">         Xsi: schemaLocation = &quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">    &lt;ModelVersion&gt; 4.0.0 &lt;/ modelVersion&gt;</span><br><span class="line"></span><br><span class="line">    &lt;GroupId&gt; com.luyh.projectv1 &lt;/ groupId&gt;</span><br><span class="line">    &lt;ArtifactId&gt; parent &lt;/ artifactId&gt;</span><br><span class="line">    &lt;Version&gt; 1.0-SNAPSHOT &lt;/ version&gt;</span><br><span class="line">    &lt;Packaging&gt; pom &lt;/ packaging&gt;</span><br><span class="line">    &lt;Parent&gt;</span><br><span class="line">        &lt;GroupId&gt; org.springframework.boot &lt;/ groupId&gt;</span><br><span class="line">        &lt;ArtifactId&gt; spring-boot-starter-parent &lt;/ artifactId&gt;</span><br><span class="line">        &lt;Version&gt; 1.3.3.RELEASE &lt;/ version&gt;</span><br><span class="line">    &lt;/ Parent&gt;</span><br><span class="line">    &lt;Modules&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Module&gt; model &lt;/ module&gt;</span><br><span class="line">        &lt;Module&gt; dao &lt;/ module&gt;</span><br><span class="line">        &lt;Module&gt; service &lt;/ module&gt;</span><br><span class="line">        &lt;Module&gt; webapi &lt;/ module&gt;</span><br><span class="line">    &lt;/ Modules&gt;</span><br><span class="line"></span><br><span class="line">    &lt;! - Declare Dependencies -&gt;</span><br><span class="line">    &lt;Dependencies&gt;</span><br><span class="line">        &lt;Dependency&gt;</span><br><span class="line">            &lt;GroupId&gt; org.springframework.boot &lt;/ groupId&gt;</span><br><span class="line">            &lt;ArtifactId&gt; spring-boot-starter-web &lt;/ artifactId&gt;</span><br><span class="line">        &lt;/ Dependency&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Dependency&gt;</span><br><span class="line">            &lt;GroupId&gt; org.springframework.boot &lt;/ groupId&gt;</span><br><span class="line">            &lt;ArtifactId&gt; spring-boot-starter-jdbc &lt;/ artifactId&gt;</span><br><span class="line">        &lt;/ Dependency&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Dependency&gt;</span><br><span class="line">            &lt;GroupId&gt; org.mybatis &lt;/ groupId&gt;</span><br><span class="line">            &lt;ArtifactId&gt; mybatis-spring &lt;/ artifactId&gt;</span><br><span class="line">            &lt;Version&gt; 1.2.2 &lt;/ version&gt;</span><br><span class="line">        &lt;/ Dependency&gt;</span><br><span class="line">        &lt;Dependency&gt;</span><br><span class="line">            &lt;GroupId&gt; org.mybatis &lt;/ groupId&gt;</span><br><span class="line">            &lt;ArtifactId&gt; mybatis &lt;/ artifactId&gt;</span><br><span class="line">            &lt;Version&gt; 3.2.8 &lt;/ version&gt;</span><br><span class="line">        &lt;/ Dependency&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Dependency&gt;</span><br><span class="line">            &lt;GroupId&gt; org.apache.tomcat &lt;/ groupId&gt;</span><br><span class="line">            &lt;ArtifactId&gt; tomcat-jdbc &lt;/ artifactId&gt;</span><br><span class="line">        &lt;/ Dependency&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Dependency&gt;</span><br><span class="line">            &lt;GroupId&gt; mysql &lt;/ groupId&gt;</span><br><span class="line">            &lt;ArtifactId&gt; mysql-connector-java &lt;/ artifactId&gt;</span><br><span class="line">        &lt;/ Dependency&gt;</span><br><span class="line">    &lt;/ Dependencies&gt;</span><br><span class="line"></span><br><span class="line">    &lt;! - Set maven repository -&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Repositories&gt;</span><br><span class="line">        &lt;Repository&gt;</span><br><span class="line">            &lt;Id&gt; spring-releases &lt;/ id&gt;</span><br><span class="line">            &lt;Url&gt; https://repo.spring.io/libs-release &lt;/ url&gt;</span><br><span class="line">        &lt;/ Repository&gt;</span><br><span class="line">    &lt;/ Repositories&gt;</span><br><span class="line">    &lt;PluginRepositories&gt;</span><br><span class="line">        &lt;PluginRepository&gt;</span><br><span class="line">            &lt;Id&gt; spring-releases &lt;/ id&gt;</span><br><span class="line">            &lt;Url&gt; https://repo.spring.io/libs-release &lt;/ url&gt;</span><br><span class="line">        &lt;/ PluginRepository&gt;</span><br><span class="line">    &lt;/ PluginRepositories&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/ Project&gt;</span><br></pre></td></tr></table></figure>
<h2 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h2><p><a href="https://projects.spring.io/spring-boot/" target="_blank" rel="noopener">spring-boot</a><br><a href="https://github.com/luyunhua/spring-boot-base" target="_blank" rel="noopener">example code</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://dachmx.github.io/2015/12/10/architecture/Mavenbuildspringbootmultimoduleproject/" data-id="cjugo7onl0000zsuwpqxdfv96" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gettingstart/">gettingstart</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mvc/">mvc</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/restful/">restful</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring/">spring</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/springboot/">springboot</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/springframework/">springframework</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-data platform/gettingstarttensorflowboard2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/10/data platform/gettingstarttensorflowboard2/" class="article-date">
  <time datetime="2015-12-09T16:00:00.000Z" itemprop="datePublished">2015-12-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/10/data platform/gettingstarttensorflowboard2/">Getting Start Using TensorFlowBoard Part I</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Instruction"><a href="#Instruction" class="headerlink" title="Instruction"></a>Instruction</h2><p>codes as follows </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Copyright 2015 Google Inc. All Rights Reserved.  </span></span><br><span class="line"><span class="comment">#  </span></span><br><span class="line"><span class="comment"># Licensed under the Apache License, Version 2.0 (the 'License');  </span></span><br><span class="line"><span class="comment"># you may not use this file except in compliance with the License.  </span></span><br><span class="line"><span class="comment"># You may obtain a copy of the License at  </span></span><br><span class="line"><span class="comment">#  </span></span><br><span class="line"><span class="comment">#     http://www.apache.org/licenses/LICENSE-2.0  </span></span><br><span class="line"><span class="comment">#  </span></span><br><span class="line"><span class="comment"># Unless required by applicable law or agreed to in writing, software  </span></span><br><span class="line"><span class="comment"># distributed under the License is distributed on an 'AS IS' BASIS,  </span></span><br><span class="line"><span class="comment"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  </span></span><br><span class="line"><span class="comment"># See the License for the specific language governing permissions and  </span></span><br><span class="line"><span class="comment"># limitations under the License.  </span></span><br><span class="line"><span class="comment"># ==============================================================================  </span></span><br><span class="line">  </span><br><span class="line"><span class="string">"""A simple MNIST classifier which displays summaries in TensorBoard. </span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string"> This is an unimpressive MNIST model, but it is a good example of using </span></span><br><span class="line"><span class="string">tf.name_scope to make a graph legible in the TensorBoard graph explorer, and of </span></span><br><span class="line"><span class="string">naming summary tags so that they are grouped meaningfully in TensorBoard. </span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">It demonstrates the functionality of every TensorBoard dashboard. </span></span><br><span class="line"><span class="string">"""</span>  </span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> absolute_import  </span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> division  </span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">from</span> tensorflow.examples.tutorials.mnist <span class="keyword">import</span> input_data  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">flags = tf.app.flags  </span><br><span class="line">FLAGS = flags.FLAGS  </span><br><span class="line">flags.DEFINE_boolean(<span class="string">'fake_data'</span>, <span class="literal">False</span>, <span class="string">'If true, uses fake data '</span>  </span><br><span class="line">                     <span class="string">'for unit testing.'</span>)  </span><br><span class="line">flags.DEFINE_integer(<span class="string">'max_steps'</span>, <span class="number">1000</span>, <span class="string">'Number of steps to run trainer.'</span>)  </span><br><span class="line">flags.DEFINE_float(<span class="string">'learning_rate'</span>, <span class="number">0.001</span>, <span class="string">'Initial learning rate.'</span>)  </span><br><span class="line">flags.DEFINE_float(<span class="string">'dropout'</span>, <span class="number">0.9</span>, <span class="string">'Keep probability for training dropout.'</span>)  </span><br><span class="line">flags.DEFINE_string(<span class="string">'data_dir'</span>, <span class="string">'/tmp/data'</span>, <span class="string">'Directory for storing data'</span>)  </span><br><span class="line">flags.DEFINE_string(<span class="string">'summaries_dir'</span>, <span class="string">'/tmp/mnist_logs'</span>, <span class="string">'Summaries directory'</span>)  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tb2</span><span class="params">()</span>:</span></span><br><span class="line">  hello = tf.constant(<span class="string">'Hello, TensorFlow!'</span>)</span><br><span class="line">  sess = tf.Session()</span><br><span class="line">  sess.run(hello)</span><br><span class="line">  train_writer = tf.train.SummaryWriter(FLAGS.summaries_dir+ <span class="string">'/train'</span>,</span><br><span class="line">                                              sess.graph)</span><br><span class="line">  a = tf.constant(<span class="number">10</span>)</span><br><span class="line">  b = tf.constant(<span class="number">32</span>)</span><br><span class="line">  tf.scalar_summary(<span class="string">'accuracy'</span>, b)  </span><br><span class="line">  tf.histogram_summary( <span class="string">'sss/activations'</span>, b)  </span><br><span class="line">  sess.run(a+b)</span><br><span class="line">  merged = tf.merge_all_summaries()  </span><br><span class="line">  summary_str = sess.run(merged)</span><br><span class="line">  train_writer.add_summary(summary_str, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:  </span><br><span class="line">  tb2()</span><br></pre></td></tr></table></figure>
<h2 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h2><p><a href="http://tensorfly.cn/" target="_blank" rel="noopener">tensorfly.cn</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://dachmx.github.io/2015/12/10/data platform/gettingstarttensorflowboard2/" data-id="cjugo7oo9000mzsuw0vend6z6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/data-analysis/">data analysis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/deeplearn/">deeplearn</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gettingstart/">gettingstart</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ml/">ml</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/platform/">platform</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tensorflow/">tensorflow</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-data platform/gettingstarttensorflowboard" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/10/data platform/gettingstarttensorflowboard/" class="article-date">
  <time datetime="2015-12-09T16:00:00.000Z" itemprop="datePublished">2015-12-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/10/data platform/gettingstarttensorflowboard/">Getting Start Use TensorFlow Install Part</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Install-on-Ubuntu"><a href="#Install-on-Ubuntu" class="headerlink" title="Install on Ubuntu"></a>Install on Ubuntu</h2><h3 id="Install-Ubuntu"><a href="#Install-Ubuntu" class="headerlink" title="Install Ubuntu"></a>Install Ubuntu</h3><p> download iso of Ubntu 14.04, and install it on virtualbox</p>
<h3 id="install-TensorFlow"><a href="#install-TensorFlow" class="headerlink" title="install TensorFlow"></a>install TensorFlow</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install python-pip python-dev</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo easy_install pip</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo easy_install --upgrade six</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu/Linux 64-bit, CPU only, Python 2.7</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.11.0rc1-cp27-none-linux_x86_64.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu/Linux 64-bit, GPU enabled, Python 2.7</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Requires CUDA toolkit 7.5 and CuDNN v5. For other versions, see <span class="string">"Install from sources"</span> below.</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.11.0rc1-cp27-none-linux_x86_64.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Mac OS X, CPU only, Python 2.7:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-0.11.0rc1-py2-none-any.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Mac OS X, GPU enabled, Python 2.7:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/gpu/tensorflow-0.11.0rc1-py2-none-any.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu/Linux 64-bit, CPU only, Python 3.4</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.11.0rc1-cp34-cp34m-linux_x86_64.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu/Linux 64-bit, GPU enabled, Python 3.4</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Requires CUDA toolkit 7.5 and CuDNN v5. For other versions, see <span class="string">"Install from sources"</span> below.</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.11.0rc1-cp34-cp34m-linux_x86_64.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu/Linux 64-bit, CPU only, Python 3.5</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.11.0rc1-cp35-cp35m-linux_x86_64.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu/Linux 64-bit, GPU enabled, Python 3.5</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Requires CUDA toolkit 7.5 and CuDNN v5. For other versions, see <span class="string">"Install from sources"</span> below.</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.11.0rc1-cp35-cp35m-linux_x86_64.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Mac OS X, CPU only, Python 3.4 or 3.5:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-0.11.0rc1-py3-none-any.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Mac OS X, GPU enabled, Python 3.4 or 3.5:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/gpu/tensorflow-0.11.0rc1-py3-none-any.whl</span></span><br></pre></td></tr></table></figure>
<hr>
<p>title: Getting Start Use TensorFlow Install Part<br>date: 2015-12-10</p>
<h2 id="tags-deeplearn-platform-data-analysis-ml"><a href="#tags-deeplearn-platform-data-analysis-ml" class="headerlink" title="tags: [deeplearn, platform, data analysis, ml, ]"></a>tags: [deeplearn, platform, data analysis, ml, ]</h2><h2 id="Install-on-Ubuntu-1"><a href="#Install-on-Ubuntu-1" class="headerlink" title="Install on Ubuntu"></a>Install on Ubuntu</h2><h3 id="Install-Ubuntu-1"><a href="#Install-Ubuntu-1" class="headerlink" title="Install Ubuntu"></a>Install Ubuntu</h3><p> download iso of Ubntu 14.04, and install it on virtualbox</p>
<h3 id="install-TensorFlow-1"><a href="#install-TensorFlow-1" class="headerlink" title="install TensorFlow"></a>install TensorFlow</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install python-pip python-dev</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo easy_install pip</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo easy_install --upgrade six</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu/Linux 64-bit, CPU only, Python 2.7</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.11.0rc1-cp27-none-linux_x86_64.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu/Linux 64-bit, GPU enabled, Python 2.7</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Requires CUDA toolkit 7.5 and CuDNN v5. For other versions, see <span class="string">"Install from sources"</span> below.</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.11.0rc1-cp27-none-linux_x86_64.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Mac OS X, CPU only, Python 2.7:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-0.11.0rc1-py2-none-any.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Mac OS X, GPU enabled, Python 2.7:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/gpu/tensorflow-0.11.0rc1-py2-none-any.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu/Linux 64-bit, CPU only, Python 3.4</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.11.0rc1-cp34-cp34m-linux_x86_64.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu/Linux 64-bit, GPU enabled, Python 3.4</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Requires CUDA toolkit 7.5 and CuDNN v5. For other versions, see <span class="string">"Install from sources"</span> below.</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.11.0rc1-cp34-cp34m-linux_x86_64.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu/Linux 64-bit, CPU only, Python 3.5</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.11.0rc1-cp35-cp35m-linux_x86_64.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu/Linux 64-bit, GPU enabled, Python 3.5</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Requires CUDA toolkit 7.5 and CuDNN v5. For other versions, see <span class="string">"Install from sources"</span> below.</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.11.0rc1-cp35-cp35m-linux_x86_64.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Mac OS X, CPU only, Python 3.4 or 3.5:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-0.11.0rc1-py3-none-any.whl</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Mac OS X, GPU enabled, Python 3.4 or 3.5:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> TF_BINARY_URL=https://storage.googleapis.com/tensorflow/mac/gpu/tensorflow-0.11.0rc1-py3-none-any.whl</span></span><br></pre></td></tr></table></figure>
<p>you also can dowload the whl then install it. This suits for unstable network.</p>
<p>the instruction is </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo pip install --upgrade <span class="variable">$TF_BINARY_URL</span></span></span><br></pre></td></tr></table></figure>
<h3 id="run-Hello-World"><a href="#run-Hello-World" class="headerlink" title="run Hello World"></a>run Hello World</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a Constant op that produces a 1x2 matrix.  The op is</span></span><br><span class="line"><span class="comment"># added as a node to the default graph.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The value returned by the constructor represents the output</span></span><br><span class="line"><span class="comment"># of the Constant op.</span></span><br><span class="line">matrix1 = tf.constant([[<span class="number">3.</span>, <span class="number">3.</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create another Constant that produces a 2x1 matrix.</span></span><br><span class="line">matrix2 = tf.constant([[<span class="number">2.</span>],[<span class="number">2.</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a Matmul op that takes 'matrix1' and 'matrix2' as inputs.</span></span><br><span class="line"><span class="comment"># The returned value, 'product', represents the result of the matrix</span></span><br><span class="line"><span class="comment"># multiplication.</span></span><br><span class="line">product = tf.matmul(matrix1, matrix2)</span><br></pre></td></tr></table></figure>
<h2 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h2><p><a href="http://www.jeyzhang.com/tensorflow-learning-notes.html" target="_blank" rel="noopener">tensorflow-learning-notes</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://dachmx.github.io/2015/12/10/data platform/gettingstarttensorflowboard/" data-id="cjugo7oo7000kzsuwhupb13vo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/data-analysis/">data analysis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/deeplearn/">deeplearn</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gettingstart/">gettingstart</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ml/">ml</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/platform/">platform</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tensorflow/">tensorflow</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android/learningtheautomatictestsysofnuomi" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/20/android/learningtheautomatictestsysofnuomi/" class="article-date">
  <time datetime="2015-10-19T16:00:00.000Z" itemprop="datePublished">2015-10-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/20/android/learningtheautomatictestsysofnuomi/">Learning The Automatic Testing System of Nuomi</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This paper introduces the automatic test scheme based on Baidu glutinous rice O2O system mobile technology framework, which is a breakthrough of the traditional mobile field test program, which consists of two parts: component automation testing and terminal monitoring and alarming.</p>
<h2 id="background"><a href="#background" class="headerlink" title="background"></a>background</h2><p>Mobile App has evolved from the early Native architecture to the Hybrid framework, to the current component architecture. The development of the technology is constantly innovating, and the framework for testing automation is endless, including Appium (iOS and Android), Robotium, Calabash and EarlGrey IOS open source automation framework) and so on.</p>
<p>These tools have been instrumental in testing many products, but the development of testing techniques has lagged behind the changes in App development technology. The test automation framework always feels inadequate to meet the testing needs of existing products, such as components or React Native such architecture system products, the previously described those who test open source framework is somewhat inadequate.</p>
<p>To this end, after the road in the glutinous rice components change (component concept, please refer to the “movement of the structure of glutinous rice moving components of the road” is not described here), in the test automation technology has a new qualitative change above.</p>
<h2 id="Component-Automation-Test-Scheme"><a href="#Component-Automation-Test-Scheme" class="headerlink" title="Component Automation Test Scheme"></a>Component Automation Test Scheme</h2><h3 id="Early-automation-tools-and-the-drawbacks-of-the-program"><a href="#Early-automation-tools-and-the-drawbacks-of-the-program" class="headerlink" title="Early automation tools and the drawbacks of the program"></a>Early automation tools and the drawbacks of the program</h3><p>The mobile App component team began to choose to use automated tools or frameworks to address the heavy task of manual testing, the lack of offline regression, and low test coverage. But gradually found that automated tools to some extent and can not be a good way to reduce the cost of manual testing, but distress in the ease of automation tools, increased learning costs, and run the success rate is not satisfactory. Some departments will automatically run the results of test cases as the last line before the line of defense, which we can think of the final data is true, whether the tester can really benefit from these so-called test tools.</p>
<p>From the current more popular test tools to do an analysis:<br><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/the-practice-of-nuomi-o2o-mobile-automatic-testing/zh/resources/10.png" alt="anaylsis1"></p>
<p>Based on the above tools, many companies will establish a series of cloud testing technology framework, but also with a lot of automation to meet the special test items, including the provision of test real machine. But for the component-based architecture of the app, and the development of these technologies are being applied more widely, based on the above program can not meet the needs of the product function iteration.</p>
<p>Components of the identification of components - components loaded into the iOS and Android platform, the code above is the same, if the appium can meet the current test requirements, but the recognition component page control properties is the only flaw, and at the same time identified on both ends The attribute elements that can be used are completely different, increasing maintenance costs for testers and increasing instability for running automated use cases.</p>
<p>Long-distance access to the stability of the component entrance - specific components of the page often need to log on, select the necessary steps to reach the components needed to test the page, there is the test focus, but the lengthy test steps to increase the automation of the Stability, halfway may be interrupted. If you can skip some unnecessary steps directly into the entrance, so you can avoid such problems.</p>
<p>Cross-platform stability issues - cross-platform stability has been a lot of companies worried about a problem, how to ensure seamless interaction between the client and the server, the service api is a long time to call and run can not request the failure, Are the shortcomings of existing tools.<br>Learning and maintenance costs - automation platform or tools If the environment configuration, the use of norms, such as the more complex requirements of the script, then the entry just for the test engineers have some learning costs.<br>Automatic Framework Solution for Glutinous Rice Components</p>
<p>In response to these questions, Baidu glutinous rice NA team to provide the following solutions:</p>
<p>1) The realization of the elements of recognition Google Chrome components through the structure of the page crawling, through the element attributes, or write support for xpath, jQuery selector expression. Elements of the positioning results for both iOS and Android at the same time.</p>
<p><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/the-practice-of-nuomi-o2o-mobile-automatic-testing/zh/resources/11.png" alt="analysis2"></p>
<p>2) For the test requirements of the page, and page elements, if the page path is longer, more steps before the entrance to the page will increase the instability of the case, glutinous rice through the Schema to achieve direct access jump straight Theme of the test program, shorten the distance, improve stability, for other products through the Schema Jump page can also refer to such programs.</p>
<p>For example, the following test is concerned about the test function within the cinema, to achieve the entrance of the intermediate links will often lead to instability of the case, through the existing program can be avoided.<br><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/the-practice-of-nuomi-o2o-mobile-automatic-testing/zh/resources/12.png" alt="analysis3"></p>
<p>3) The mobile phone installs the App to pull the cases of the server, disconnect the physical connection, so for the special instability or for special models of the needs, such as the latest iPhone series or the latest Android phone, the team can Run, fill the platform under the special circumstances of the resource gap.</p>
<p>4) a single case, to achieve a single business test requirements, the test suite is to achieve mobile phone test on the daily operation of the program, a number of single-scene test requirements into a unified complex test scenarios, component team, self-trigger daily run time segment.</p>
<p><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/the-practice-of-nuomi-o2o-mobile-automatic-testing/zh/resources/13..png" alt="23"></p>
<p>5) In order to meet the fast iteration needs of the business, through the platform configuration, no special language skills, business test engineers only need to configure specific business scenarios to achieve script stable dialy operation, zero cost of learning and training investment.</p>
<p>To achieve the above features, through the client installation automation App, server configuration script and set the scene, you can use the automation to the extreme, the following is the Android mobile phone wireless automation framework:</p>
<p><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/the-practice-of-nuomi-o2o-mobile-automatic-testing/zh/resources/14.png" alt="234"><br>Mobile terminal to install the automation App, HTTP request part of the back-end platform for the ability to support, including configuration information, script information, case operation report statistics on the platform to create, update and summary, to be prepared, the mobile terminal input or daily operation A designated test set ID number can be run in real time, resulting in the case of functional regression, including automation, as well as other special test performance indicators and other information.</p>
<p>UIAutomator framework based on the realization of the relevant packaging interface, the case of the various actions to achieve analysis, call the package to run the api page ui operation, the failure of the case steps to achieve the screenshot upload to determine the current failure of the specific circumstances. Because the support wireless connection, continues the job to trigger, therefore the parallel running ability also may satisfy.</p>
<h3 id="Component-side-monitoring-of-active-inspection"><a href="#Component-side-monitoring-of-active-inspection" class="headerlink" title="Component-side monitoring of active inspection"></a>Component-side monitoring of active inspection</h3><p>Components from the App to the next release to the rendering, the whole process of each link will have all kinds of unexpected problems. On-line ANR, Crash, response time, etc. can be implanted through the App embedding program, or access to third-party sdk, the program can be used to monitor the real-time monitoring, Back-end platform to provide alarm information, real-time monitoring; but the complete rendering of the component page monitoring has been unable to achieve full coverage, such as back-end services back to the front normally, but the phone in a specific case the positioning function analysis problems led to the page has been The api initialization interface on the specific App end does not have the ready, the module does not carry on the judgment directly to call the internal method to cause the page to appear unusual and so on is the general offline log, or the burial point, the interface alarm platform can not discover. To this end the business side to ask the following questions:</p>
<p>How to load the page in the front-end components on the ui do abnormal monitoring;<br>How to locate abnormal after the need to provide the necessary auxiliary information to facilitate investigation;<br>How to deploy monitoring points, operating mechanism, how to achieve alarm strategy;<br>Component page load exception monitoring scheme</p>
<p>Glutinous rice team on the ui component page load anomalies do monitor, mainly through real machine real-time running components page list, polling cycle, page scanning, in addition to the components of the page element of the missing monitoring, also added js bomb abnormal block monitoring , Request the wrong monitoring, the specific program is as follows:</p>
<p><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/the-practice-of-nuomi-o2o-mobile-automatic-testing/zh/resources/15.png" alt="2345"></p>
<p>1) monitoring engine - the whole core is injected Luban.js file, the file can be components of the h5 page scan analysis (as shown in the figure provides three capabilities). Js how to be injected into the measured app? We injected into the file through the platform js, monitor the app monitor js files are updated to determine the load, the use of open the measured app switch to achieve js dynamic injection, so that each component or h5 Pages can refer to the file. In order to achieve the function of monitoring engine.</p>
<p>2) Monitoring page - The main function of the monitoring page is to pull the monitoring point, monitoring strategy, configuration information and so on for the monitoring engine to analyze, such as when the component 1 page is opened, the monitoring engine automatically triggers, Page of the information, the page scan, the success or failure of the logo will be back to the monitoring page, listening to the page uploaded to the platform.</p>
<p>We can look at what the program can do:</p>
<p>When listening to the page to get to our manually add the page when the monitoring items, the monitoring engine will do the following things</p>
<p>Dom elements of the existence of the judge, the request failed to judge, js abnormal shell frame to judge</p>
<p>The following is the actual online alarm monitoring caught the problem:</p>
<p>1) Failure of monitoring of page elements (Dom element presence judgment):</p>
<p><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/the-practice-of-nuomi-o2o-mobile-automatic-testing/zh/resources/16.png" alt="s"><br>2) for a component of the page js error box (js abnormal shell frame to determine):</p>
<p><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/the-practice-of-nuomi-o2o-mobile-automatic-testing/zh/resources/17.png" alt="2s"><br>3) for a component of the page interface request specific link error (request failure to determine):<br><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/the-practice-of-nuomi-o2o-mobile-automatic-testing/zh/resources/19.png" alt="sd"></p>
<p>UI level The above three types of decision logic has basically covered the entire component page load anomaly monitoring.</p>
<p>Of course, the app framework itself will also exist log monitoring real-time upload to the back-end platform, the platform to do such as component package download successful monitoring, component update success rate monitoring, component end-to-end response time monitoring, which are online users to monitor Log for analysis, for our QA team, the first time to reflect the online user experience, you need such an active inspection of the way, do a great job in a large number of warnings before the potential risks identified in advance to eliminate.</p>
<h3 id="Component-Location-Scheme"><a href="#Component-Location-Scheme" class="headerlink" title="Component Location Scheme"></a>Component Location Scheme</h3><p>Online problem locating and locating has always been a very painful problem for the testers, especially when the user is feeding back an occasional problem, by looking at the phone number, log, time of occurrence, and user feedback, to find out what the user is doing Problem, this approach is more common, it is difficult to locate specific issues related to the user phone status type, network, system, app version, component version, whether or not to fight against cheating and other possibilities. If you can get the user’s request and back-end data, as well as the performance of the page at that time, plus some of the information mentioned before the basic 80% can locate some problems for online active inspection is also true.</p>
<p>We will luban.js file interface request, and json return the results of records, while the side automatically on the page screenshots, alarm time, run the system and other information to the various components side investigation: The following screenshot you can see the request_params, http_reponses is The request that the alarm obtains at that time and the result that the response should return to the request.</p>
<p>Alarm also provides accurate alarm time, alarm monitoring elements, and screenshots, through which you can locate the cause of the problem, such as the above take-out of a shop should have a menu of “hot” menu, back-end data gaps, Possible reasons for the back-end redis problem, the need for errorno: 114013 back-end log troubleshooting, this information largely to the duty officer to provide a smaller range of strong information based on the rapid investigation of online problems of great help, damage.</p>
<h3 id="Monitoring-point-deployment-and-alarm-strategy"><a href="#Monitoring-point-deployment-and-alarm-strategy" class="headerlink" title="Monitoring point deployment and alarm strategy"></a>Monitoring point deployment and alarm strategy</h3><p>Components page layout is generally divided into banner, category, searchfilter, list pages, etc., for these features, we will dom element monitoring involves this information, as shown below:<br><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/the-practice-of-nuomi-o2o-mobile-automatic-testing/zh/resources/20.png" alt="sdf"></p>
<p>For the alarm can be set to component id continuous alarm log appears after a certain number, through text messages and e-mail interface to remind people to solve as soon as possible.</p>
<p>At present, the entire NAQA team of the sticky rice through the actual real machine for active inspection, divided iOS and Android side, mainly the core components, for other components to special scenes or special models under the monitoring, you can configure the monitoring task, the entire platform Can provide independent services, can also provide monitoring real machine services, this approach can greatly meet the monitoring needs of various components to protect the entire glutinous rice App real user experience.</p>
<h2 id="reference-articles"><a href="#reference-articles" class="headerlink" title="reference articles:"></a>reference articles:</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://dachmx.github.io/2015/10/20/android/learningtheautomatictestsysofnuomi/" data-id="cjugo67wn000jnkuwi89s9mg8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/auto/">auto</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/automatic/">automatic</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nuomi/">nuomi</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/testing/">testing</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android/learningnetworkoptimizationformobile" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/20/android/learningnetworkoptimizationformobile/" class="article-date">
  <time datetime="2015-10-19T16:00:00.000Z" itemprop="datePublished">2015-10-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/20/android/learningnetworkoptimizationformobile/">Learning NetWork Optimization for Mobile of Ctrip</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Instroduction"><a href="#Instroduction" class="headerlink" title="Instroduction"></a>Instroduction</h2><p>Ctrip travel as a user to use the site around the world, its network optimization is the most important performance and user experience optimization, before we share Ctrip in the network and application architecture optimization exploration:</p>
<p>App network services, high reliability and low latency for the steady development of wireless business is essential in the past two years we have been continuously optimized App network service performance, to the end of Q2 this year, the basic completion of the App network service channel management and performance optimization phase Of the objectives, the author hereby summarize the lessons learned for future work to lay the foundation.</p>
<h2 id="Ctrip-App-wireless-network-service-architecture"><a href="#Ctrip-App-wireless-network-service-architecture" class="headerlink" title="Ctrip App wireless network service architecture"></a>Ctrip App wireless network service architecture</h2><p>In 2014, Ctrip developed Mobile Gateway for wireless services. There are two types: TCP Gateway and HTTP Gateway. TCP Gateway is designed for native service network services in App, based on the TCP protocol is designed on the application layer protocol, similar to the RPC mechanism. TCP Gateway combines the functions of the access layer and the service dynamic routing. The function of the access layer is based on the Netty implementation. It manages the client’s TCP long connection or short connection. The dynamic routing function is based on the NetWare open source Zuul implementation Which provides services such as routing, monitoring, anti-crawling, and user authentication on the TCP Gateway, which can provide dynamic routing, monitoring, resiliency, security, and more.<br><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/app-network-service-and-performance-optimization-of-ctrip/zh/resources/10.jpg" alt="sd"><br>After each TCP service request arrives at the TCP Gateway, it will be forwarded to the corresponding service cluster on the back end according to the service number in the packet header, thus decoupling the back-end service. The forwarding of TCP Gateway to the back-end business service cluster is realized by using the interface of HTTP protocol. The complete packet of a TCP service request is forwarded to the back-end business service cluster as Payload of HTTP request. After receiving the HTTP response, Its Payload complete return to the corresponding TCP connection.</p>
<p>HTTP Gateway for the App in the Hybrid and H5 Web site network services, the use of HTTP Restful interface to provide services, the logic is relatively simple, the core is the HTTP service dynamic forwarding function.<br><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/app-network-service-and-performance-optimization-of-ctrip/zh/resources/11.jpg" alt="sdfsd"><br>More details of the design of the Mobile Gateway can refer to Wang Xingchao in 2015 Shanghai QCon speech “Ctrip wireless Gateway”:</p>
<p>Http://<a href="http://www.infoq.com/cn/presentations/ctrip-wireless-gateway" target="_blank" rel="noopener">www.infoq.com/cn/presentations/ctrip-wireless-gateway</a></p>
<h2 id="Implementation-of-App-Network-Service-Based-on-TCP-Protocol"><a href="#Implementation-of-App-Network-Service-Based-on-TCP-Protocol" class="headerlink" title="Implementation of App Network Service Based on TCP Protocol"></a>Implementation of App Network Service Based on TCP Protocol</h2><p>Bandwidth and delay are two factors that affect the performance of network services. Bandwidth is limited by the minimum bandwidth of the network channel. The delay is the round-trip transmission time of the network packet between the client and the server. The bandwidth and delay on different network types The difference is very large (see below).<br><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/app-network-service-and-performance-optimization-of-ctrip/zh/resources/12.jpg" alt="sd"><br>We want to achieve better performance of network services for the network bandwidth and delay of their two points, you can do just as much as possible to select the most appropriate network channel, the other can only be used on the network channel to optimize.</p>
<p>Traditional non-IM instant messaging class App usually use HTTP protocol to achieve network services (Restful API form), Ctrip use TCP protocol to achieve, does increase the cost of many development, such as the need to design application layer protocol, network management, Handling exceptions, etc., but the following reasons or let us finally choose to achieve App Web services based on TCP protocol:</p>
<p>Ctrip users sometimes in the network environment is very poor scenic areas need to be optimized for the weak network, a simple HTTP application layer protocol is difficult to achieve.<br>HTTP requests for the first time the need for DNS domain name resolution, we found that the domestic environment for Ctrip domain name failure rate of 2-3% (including domain name hijacking and resolution failure), seriously affect the user experience.<br>Although HTTP is based on TCP protocol to achieve the application layer protocol, the advantage is good encapsulation, client and server-side solution is mature. Disadvantages are small controllability, can not be customized for network connections, send requests and receive responses to optimize, even if the characteristics of HTTP such as to keep a long connection KeepAlive or pipeline Pipeline and so will be subject to the network environment Proxy or server implementation, It is difficult to fully play its role.</p>
<p>Based on the TCP protocol allows us to complete control of the entire network service life cycle of the various stages, including the following stages:</p>
<ul>
<li><p>Gets the IP address of the server</p>
</li>
<li><p>establish connection</p>
</li>
<li><p>Serialize network request packets</p>
</li>
<li><p>Sends a network request</p>
</li>
<li><p>Accept a network response</p>
</li>
<li><p>Deserializes the network response message</p>
</li>
</ul>
<p>Our network service channel management and optimization work is from these aspects.</p>
<p>TCP network service channel management and performance optimization</p>
<ol>
<li>Farewell DNS, direct use of IP addresses</li>
</ol>
<p>If the first time to send HTTP-based network services, the first thing is DNS domain name resolution, DNS statistics we have only 98% of the success rate of resolution, the remaining 2% of the failure of resolution or DNS hijackers (Local DNS returned Non-source IP address), while DNS resolution in 3G time-consuming about 200 milliseconds, 4G also have 100 milliseconds or so, the delay is obvious. We are based on TCP connection, skip the DNS resolution stage, the use of built-in IP list of ways to connect to the network.</p>
<p>Ctrip App built a set of Server IP list, while each IP has a weight. Each time a new connection is established, the highest-weighted IP address is selected for the connection. When the App starts, all the weights of the IP list are the same. At this time, a set of Ping operations will be started to calculate the IP weight according to the delay time of the Ping value. The principle is that the IP address is smaller, Of the network transmission delay should also be relatively smaller. The industry also uses the HTTP DNS method to resolve DNS hijacking issues, while returning the most appropriate user network Server IP. However, the development and deployment of HTTP DNS requires no small development costs, we do not currently use.</p>
<p>The built-in Server IP list is also updated. Each App starts with a Mobile Config service (supports both TCP and HTTP network type services) to update the Server IP List and support Server IP List updates for different product lines. Therefore, the traditional DNS resolution can solve the function of multiple IDC diversion can also be resolved through this method.</p>
<ol start="2">
<li>Socket connection optimization, reducing the connection time</li>
</ol>
<p>As with the Keepalive feature in the HTTP protocol, the most direct way to reduce network service time is to maintain a long connection. Each TCP three-way handshake connection takes one RTT (round trip time) to complete, which means 100-300 millisecond delay; TCP protocol itself should deal with the network congestion Slow Start mechanism will also affect the new connection Of the transmission performance.</p>
<p>Ctrip App use of a long connection pool to use long connections, long connection pool to maintain a number of maintenance and service side of the TCP connection, each time the network service will be initiated from the long connection pool to obtain a free long connection to complete the network services And then put the TCP connection back into the long connection pool. We do not implement Pipeline and Multiplexing on a single TCP connection. Instead, we use the simplest FIFO mechanism for two reasons:</p>
<p>Simplify the service processing logic of Mobile Gateway, and reduce the development cost;<br>When multiple responses are sent back to the server, if a response packet is very large, using multiple long connections can speed up the response of the received service.<br>If a TCP connection is in use when a network service is initiated, or if a TCP long-connected network service fails, a TCP short connection is made to implement the network service. The difference between long and short connections is that the TCP connection is closed only after the service is complete.</p>
<p>Pipeline and Multiplexing is different, such as HTTP / 1.1 support Pipeline, the client can send multiple requests, but the server returns the response should be sent in accordance with the request to send the order to respond; SPDY and HTTP / 2 protocol Supports multiplexing, that is, support the out-of-order response of the return message, send the request and receive the response does not interfere with each other, so to avoid the HTTP / 1.1 Pipeline also can not completely solve the Head of line blocking problem.</p>
<p>References</p>
<p>Http://stackoverflow.com/questions/10362171/is-spdy-any-different-than-http-multiplexing-over-keep-alive-connections</p>
<p>Https://http2.github.io/faq/</p>
<p>The HTTP / 1.1 Pipeline feature mentioned in Reference 2 only partially resolves the Head of line blocking problem because a large or slow response can still block others behind it.</p>
<ol start="3">
<li>Weak network and network jitter optimization</li>
</ol>
<p>Ctrip App introduces the network quality parameters, through the network type and end to end Ping value calculation, according to different network quality to change the network service strategy:</p>
<p>Adjust the number of long connection pool: for example, in the 2G / 2.5G Egde network, will reduce the number of long connection pool is 1 (the operator will limit the number of single target IP TCP connection); WIFI network can increase the number of long connection pool And other mechanisms.<br>Dynamically adjust the TCP connection, write, read the timeout.<br>When the network type is switched, such as WIFI and mobile network, when the 4G / 3G switch to 2G, the IP address of the client will change. The TCP Socket that is already connected is destined to be invalid. (Each socket corresponds to a four-tuple: source IP, source Port, Destination IP, Destination Port), all free long connections are automatically closed, and the existing network service automatically retries according to the status.</p>
<ol start="4">
<li>Data format optimization, reduce the amount of data transmission and serialization time</li>
</ol>
<p>The smaller the amount of data transferred, the shorter the transmission time on the same TCP connection. Ctrip has used to design a set of data format, and later compared with Google ProtocolBuffer found that the specific data type packet size will be reduced by 20-30%, serialization and deserialization time can be reduced by 10-20%, so the current Core services are gradually migrating to ProtocolBuffer format. In addition, Facebook has shared their use FlatBuffer data format to improve performance of the practice, our analysis is not suitable for Ctrip’s business scenarios and therefore not used.</p>
<ol start="5">
<li>Retry mechanism is introduced to improve the success rate of network services</li>
</ol>
<p>By the TCP protocol retransmission mechanism to ensure reliable transmission mechanism of inspiration, we also introduced a retry mechanism in the application level to improve the success rate of network services. We found that more than 90% of the network service failure is due to network connection failure, then try again to have the opportunity to connect successfully and complete the service; At the same time we found that the network service life cycle mentioned in the establishment of a connection, serialization Network request packets, send network request failure of these three stages are automatically retry, because we can be sure that the request has not yet reached the server for processing, does not produce idempotent problems (if there is idempotent problem , There will be repeated orders, etc.). When a network service needs to retry, a short connection is used to compensate, rather than a long connection.</p>
<p>To achieve the above mechanism, Ctrip App network service success rate from the original 95.3% + upgrade to today’s 99.5% + (where the service success rate refers to the end-to-end service success rate, that is, the number of client acquisition service divided by the success Request the total amount calculated, and does not distinguish between the current network conditions), the effect is significant.</p>
<h2 id="Other-Network-Services"><a href="#Other-Network-Services" class="headerlink" title="Other Network Services"></a>Other Network Services</h2><p>Ctrip App also implements a number of other network services to facilitate business development, such as network service priority mechanism, high priority service priority to use long connections, low priority service by default using a short connection; network service dependency mechanism, depending on the relationship automatically initiated or When the network service is canceled, for example, when the main service fails, the sub-service is automatically canceled.</p>
<p>Development process, we also found that some mobile platforms TCP Socket development tricks:</p>
<p>IOS platform, the native Socket interface to create a connection does not activate the mobile network, where the native Socket interface is POSIX Socket interface, you must use the CFSocket or upper network interface to try to activate the network connection. So Ctrip will be activated when the first activation of some third-party registration SDK and send HTTP request to activate the mobile network.</p>
<p>The SO_NOSIGPIPE parameter closes the SIGPIPE event, and the TCP_NODELAY parameter turns off the TCP Nagle algorithm. The TCP_NODELAY parameter turns off the TCP Nagle algorithm. The TCP_NODELAY parameter turns off the TCP Nagle algorithm. The SO_NOSIGPIPE parameter is used to keep the TCP connection alive. .<br>Since iOS requires support for IPv6-Only networks, the native socket must support IPv6.<br>If you use select to handle nonblocking IO operations, ensure that different return values ​​and time-out parameters are handled correctly.</p>
<p>Heartbeat mechanism to maintain the availability of TCP long connections: For non-IM applications, the heartbeat mechanism is not significant, because the user will continue to trigger requests to use TCP connections, especially in the Ctrip business scenario, through data statistics found using heartbeat On the service time and success rate of minimal impact, it is now closed heartbeat mechanism. The original heartbeat mechanism is an idle TCP connection in a TCP long connection pool. A heartbeat packet is sent to the Gateway every 60 seconds, and the Gateway returns a heartbeat response packet, allowing both parties to confirm that the TCP connection is valid.<br>Hybrid network service optimization</p>
<p>Ctrip App a considerable proportion of the business is the use of Hybrid technology, running in the WebView environment, which all network services (HTTP requests) are controlled by the system, we can not control, it can not be optimized, the end to End service success rate is only about 97% (Note: here refers to the page business logic to send the network service request, rather than static resource request).</p>
<p>We adopt the technology called “TCP Tunnel for Hybrid” to optimize the hybrid network services. Unlike the traditional HTTP acceleration products, we do not use the method of intercepting HTTP requests to re-transmit, but in the Ctrip Hybrid framework of network services Layer to automatically switch.<br><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/app-network-service-and-performance-optimization-of-ctrip/zh/resources/13.jpg" alt="sadf"><br>As shown in the figure, the flow of the technical solution is as follows:</p>
<p>If the App supports TCP Tunnel for Hybrid, the Hybrid service forwards the network traffic through the Hybrid interface to the TCP network communication layer of the App Native layer. This module encapsulates the HTTP request and forwards it to the TCP Gateway as Payload of the TCP network service.</p>
<p>TCP Gateway will be based on the service number to determine the Hybrid forwarding service, unpacked directly after the Payload forwarded to the HTTP Gateway, the HTTP request is transparent to the HTTP Gateway, HTTP Gateway does not need to distinguish between the App directly sent to the TCP Gateway or forwarded to HTTP request;</p>
<p>After the back-end business service processing is complete, the HTTP response is returned to the TCP Gateway via the HTTP Gateway, which returns the HTTP response as Payload to the TCP network communication layer of the App.</p>
<p>TCP network communication layer will then deserialize the Payload back to the Hybrid framework, the final asynchronous callback to the Hybrid business caller. The whole process is also transparent to the caller of the Hybrid service. It does not know the existence of the TCP tunnel.</p>
<p>The adoption of the technology program, Ctrip App in the Hybrid business network service success rate increased to more than 99%, the average time-consuming decreased by 30%.<br><img src="http://cdn3.infoqstatic.com/statics_s2_20161025-0357/resource/articles/app-network-service-and-performance-optimization-of-ctrip/zh/resources/14.jpg" alt="sdf"></p>
<p>Overseas network service optimization</p>
<p>Ctrip is not currently deployed overseas IDC, overseas users need to access the use of App in the domestic IDC, the average time-consuming service was significantly higher than domestic users. We have adopted a technology called “TCP Bypass for Oversea” technology program to optimize the performance of overseas network services, mainly using Akamai’s exclusive network of overseas channels, while Ctrip domestic IDC deployment of central office equipment, the use of dedicated channel to accelerate the way Enhance the overseas user experience.</p>
<p>If the network service fails and the retry mechanism takes effect, the traditional Internet channel will be retried. If the Akamai channel fails, the network service will go to the Akamai channel first. Using the Akamai channel Bypass technology, the average service time was reduced by 33% compared to using traditional Internet channels only, while maintaining the success rate of network services.</p>
<p>Discussion on Other Network Protocols</p>
<p>Over the past two years our network service optimization are based on TCP protocol implementation, basically reached the optimization goals. But over the past two years the new application layer network protocol SPDY and HTTP / 2 gradually into the mainstream, UDP-based QUIC protocol also looks very interesting, worthy of follow-up research.</p>
<h2 id="SPDY-amp-HTTP-2"><a href="#SPDY-amp-HTTP-2" class="headerlink" title="SPDY &amp; HTTP / 2"></a>SPDY &amp; HTTP / 2</h2><p>SPDY is Google’s TCP-based network application layer protocol, has been developed to support the design based on SPDY results of HTTP / 2 protocol, HTTP / 2 protocol core improvement is in fact for the HTTP / 1.x impact delay performance pain points Optimize:</p>
<p>Header Compression: Compresses redundant HTTP request and response headers.<br>Supports Multiplexing: Supports multiple simultaneous requests and responses on a single TCP connection.<br>Maintains long connections (more thorough than HTTP / 1.x): Reduces network connection time.<br>Support Push: You can push the server to push the data to the client.<br>Official performance test results show that the use of SPDY or HTTP / 2 page load time reduced by about 30%, but this is the test results for the Web, for the App in the network services, specific optimization results we are still in-house testing, And now we use the TCP protocol optimization similar to the performance optimization performance may not be significant.</p>
<h2 id="QUIC"><a href="#QUIC" class="headerlink" title="QUIC"></a>QUIC</h2><p>QUIC is Google-based application layer protocol developed by UDP, UDP protocol without connection, there is no retransmission mechanism, so the application layer needs to ensure the reliability of the service. Currently domestic Tencent has tried for the weak network QUIC protocol, we are also testing, will eventually need to see if the test results.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Technology is only a means, and ultimately to reflect on the business results. We have achieved in addition to static resources and other needs to access the CDN network request, the other App network services using a unified TCP channel, which has better performance tuning and business monitoring capabilities. Ctrip is currently based on the TCP protocol for a variety of App network service optimization, but also a variety of technical solutions to the balance, although the HTTP / 2 and other new protocols mature, but the TCP protocol flexibility to support their own targeted performance optimization, Special advantage, hope that our practice summary of the domestic wireless technology practitioners have some reference value.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="http://www.infoq.com/cn/articles/app-network-service-and-performance-optimization-of-ctrip" target="_blank" rel="noopener">app-network-service-and-performance-optimization-of-ctrip</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://dachmx.github.io/2015/10/20/android/learningnetworkoptimizationformobile/" data-id="cjugo67wn000knkuwdluijh6i" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ctrip/">ctrip</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mobile/">mobile</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/network/">network</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/optimization/">optimization</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android/usingrxjavaonandroid" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/15/android/usingrxjavaonandroid/" class="article-date">
  <time datetime="2015-10-14T16:00:00.000Z" itemprop="datePublished">2015-10-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/15/android/usingrxjavaonandroid/">Using RxJava for Android Dev</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Desc-of-RxJava"><a href="#Desc-of-RxJava" class="headerlink" title="Desc of RxJava"></a>Desc of RxJava</h2><p>ReactiveX is a library for composing asynchronous and event-based programs by using observable sequences.</p>
<p>It extends the observer pattern to support sequences of data and/or events and adds operators that allow you to compose sequences together declaratively while abstracting away concerns about things like low-level threading, synchronization, thread-safety, concurrent data structures, and non-blocking I/O.</p>
<h4 id="Observables-fill-the-gap-by-being-the-ideal-way-to-access-asynchronous-sequences-of-multiple-items"><a href="#Observables-fill-the-gap-by-being-the-ideal-way-to-access-asynchronous-sequences-of-multiple-items" class="headerlink" title="Observables fill the gap by being the ideal way to access asynchronous sequences of multiple items"></a>Observables fill the gap by being the ideal way to access asynchronous sequences of multiple items</h4><table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">single items</th>
<th style="text-align:center">multiple items</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">synchronous</td>
<td style="text-align:center">T getData()</td>
<td style="text-align:center">Iterable<t> getData()</t></td>
</tr>
<tr>
<td style="text-align:center">asynchronous</td>
<td style="text-align:center">Future<t> getData()</t></td>
<td style="text-align:center">Observable<t> getData()</t></td>
</tr>
</tbody>
</table>
<h2 id="Using-of-RxAndroid"><a href="#Using-of-RxAndroid" class="headerlink" title="Using of RxAndroid"></a>Using of RxAndroid</h2><h3 id="1-Setting-Up-RxAndroid"><a href="#1-Setting-Up-RxAndroid" class="headerlink" title="1. Setting Up RxAndroid"></a>1. Setting Up RxAndroid</h3><p>To use RxAndroid in an Android Studio project, add it as a compile dependency in the app module’s build.gradle.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile <span class="string">'io.reactivex:rxandroid:0.25.0'</span></span><br></pre></td></tr></table></figure>
<h3 id="2-Basics-of-Observers-and-Observables"><a href="#2-Basics-of-Observers-and-Observables" class="headerlink" title="2. Basics of Observers and Observables"></a>2. Basics of Observers and Observables</h3><p>When working with ReactiveX, you will be using observables and observers extensively. You can think of an observable as an object that emits data and an observer as an object that consumes that data. In RxJava and RxAndroid, observers are instances of the Observer interface, and observables are instances of the Observable class.</p>
<p>The Observable class has many static methods, called operators, to create Observable objects. The following code shows you how to use the just operator to create a very simple Observable that emits a single String.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Observable&lt;String&gt; myObservable </span><br><span class="line">    = Observable.just(<span class="string">"Hello"</span>); <span class="comment">// Emits "Hello"</span></span><br></pre></td></tr></table></figure></p>
<p>The observable we just created will emit its data only when it has at least one observer. To create an observer, you create a class that implements the Observer interface. The Observer interface has intuitively named methods to handle the different types of notifications it can receive from the observable. Here’s an observer that can print the String emitted by the observable we created earlier:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Observer&lt;String&gt; myObserver = <span class="keyword">new</span> Observer&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCompleted</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Called when the observable has no more data to emit</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable e)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Called when the observable encounters an error</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Called each time the observable emits data</span></span><br><span class="line">        Log.d(<span class="string">"MY OBSERVER"</span>, s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>To assign an observer to an observable, you should use the subscribe method, which returns a Subscription object. The following code makes myObserver observe myObservable:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Subscription mySubscription = myObservable.subscribe(myObserver);</span><br></pre></td></tr></table></figure></p>
<p>As soon as an observer is added to the observable, it emits its data. Therefore, if you execute the code now, you will see Hello printed in Android Studio’s logcat window.</p>
<p>You might have noticed that we didn’t use the onCompleted and the onError methods in myObserver. As these methods are often left unused, you also have the option of using the Action1 interface, which contains a single method named call.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Action1&lt;String&gt; myAction = <span class="keyword">new</span> Action1&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        Log.d(<span class="string">"My Action"</span>, s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>When you pass an instance of Action1 to the subscribe method, the call method is invoked whenever the observable emits data.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Subscription mySubscription = myObservable.subscribe(myAction1);</span><br></pre></td></tr></table></figure>
<p>To detach an observer from its observable while the observable is still emitting data, you can call the unsubscribe method on the Subscription object.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mySubscription.unsubscribe();</span><br></pre></td></tr></table></figure></p>
<h3 id="3-Using-Operators"><a href="#3-Using-Operators" class="headerlink" title="3. Using Operators"></a>3. Using Operators</h3><p>Now that you know how to create observers and observables, let me show you how to use ReactiveX’s operators that can create, transform, and perform other operations on observables. Let’s start by creating a slightly more advanced Observable, one that emits items from an array of Integer objects. To do so, you have to use the from operator, which can generate an Observable from arrays and lists.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Observable&lt;Integer&gt; myArrayObservable </span><br><span class="line">    = Observable.from(<span class="keyword">new</span> Integer[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;); <span class="comment">// Emits each item of the array, one at a time</span></span><br><span class="line"> </span><br><span class="line">myArrayObservable.subscribe(<span class="keyword">new</span> Action1&lt;Integer&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(Integer i)</span> </span>&#123;</span><br><span class="line">        Log.d(<span class="string">"My Action"</span>, String.valueOf(i)); <span class="comment">// Prints the number received</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>When you run this code, you will see each of the numbers of the array printed one after another.</p>
<p>If you’re familiar with JavaScript, Ruby, or Kotlin, you might be familiar with higher-order functions such as map and filter, which can be used when working with arrays. ReactiveX has operators that can perform similar operations on observables. However, because Java 7 doesn’t have lambdas and higher-order functions, we’ll have to do it with classes that simulate lambdas. To simulate a lambda that takes one argument, you will have to create a class that implements the Func1 interface.</p>
<p>Here’s how you can use the map operator to square each item of myArrayObservable:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">myArrayObservable = myArrayObservable.map(<span class="keyword">new</span> Func1&lt;Integer, Integer&gt;() &#123; <span class="comment">// Input and Output are both Integer</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">(Integer integer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> integer * integer; <span class="comment">// Square the number</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>Note that the call to the map operator returns a new Observable, it doesn’t change the original Observable. If you subscribe to myArrayObservable now, you will receive squares of the numbers.</p>
<p>Operators can be chained. For example, the following code block uses the skip operator to skip the first two numbers, and then the filter operator to ignore odd numbers:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">myArrayObservable</span><br><span class="line">    .skip(<span class="number">2</span>) <span class="comment">// Skip the first two items</span></span><br><span class="line">    .filter(<span class="keyword">new</span> Func1&lt;Integer, Boolean&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Boolean <span class="title">call</span><span class="params">(Integer integer)</span> </span>&#123; <span class="comment">// Ignores any item that returns false</span></span><br><span class="line">            <span class="keyword">return</span> integer % <span class="number">2</span> == <span class="number">0</span>; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Emits 4 and 6</span></span><br></pre></td></tr></table></figure></p>
<h3 id="4-Handling-Asynchronous-Jobs"><a href="#4-Handling-Asynchronous-Jobs" class="headerlink" title="4. Handling Asynchronous Jobs"></a>4. Handling Asynchronous Jobs</h3><p>The observers and observables we created in the previous sections worked on a single thread, Android’s UI thread. In this section, I will show you how to use ReactiveX to manage multiple threads and how ReactiveX solves the problem of callback hell.</p>
<p>Assume you have a method named fetchData that can be used to fetch data from an API. Let’s say it accepts a URL as its parameter and returns the contents of the response as a String. The following code snippet shows how it could be used.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String content = fetchData(<span class="string">"http://www.google.com"</span>);</span><br><span class="line"><span class="comment">// fetches the contents of google.com as a String</span></span><br></pre></td></tr></table></figure></p>
<p>This method needs to run on its own thread, because Android does not allow network operations on the UI thread. This means you would either create an AsyncTask or create a Thread that uses a Handler.</p>
<p>With ReactiveX, however, you have a third option that is slightly more concise. Using the subscribeOn and observeOn operators, you can explicitly specify which thread should run the background job and which thread should handle the user interface updates.</p>
<p>The following code creates a custom Observable using the create operator. When you create an Observable in this manner, you have to implement the Observable.OnSubscribe interface and control what it emits by calling the onNext, onError, and onCompleted methods yourself.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Observable&lt;String&gt; fetchFromGoogle = Observable.create(<span class="keyword">new</span> Observable.OnSubscribe&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(Subscriber&lt;? <span class="keyword">super</span> String&gt; subscriber)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            String data = fetchData(<span class="string">"http://www.google.com"</span>);</span><br><span class="line">            subscriber.onNext(data); <span class="comment">// Emit the contents of the URL</span></span><br><span class="line">            subscriber.onCompleted(); <span class="comment">// Nothing more to emit</span></span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            subscriber.onError(e); <span class="comment">// In case there are network errors</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>When the Observable is ready, you can use subscribeOn and observeOn to specify the threads it should use and subscribe to it.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fetchFromGoogle</span><br><span class="line">    .subscribeOn(Schedulers.newThread()) <span class="comment">// Create a new Thread</span></span><br><span class="line">    .observeOn(AndroidSchedulers.mainThread()) <span class="comment">// Use the UI thread</span></span><br><span class="line">    .subscribe(<span class="keyword">new</span> Action1&lt;String&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">            view.setText(view.getText() + <span class="string">"\n"</span> + s); <span class="comment">// Change a View</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></p>
<p>You might still be thinking that the reactive approach isn’t drastically better than using the AsyncTask or Handler classes. You are right, you don’t really need ReactiveX if you have to manage only one background job.</p>
<p>Now consider a scenario that would result in a complex codebase if you used the conventional approach. Let’s say you have to fetch data from two (or more) websites in parallel and update a View only when all the requests have completed. If you follow the conventional approach, you would have to write lots of unnecessary code to make sure that the requests completed without errors.</p>
<p>Consider another scenario in which you have to start a background job only after another background job has completed. Using the conventional approach, this would result in nested callbacks.</p>
<p>With ReactiveX’s operators, both scenarios can be handled with very little code. For example, if you have to use fetchData to fetch the contents of two websites, fore example Google and Yahoo, you would create two Observable objects, and use the subscribeOn method to make them run on different threads.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fetchFromGoogle = fetchFromGoogle.subscribeOn(Schedulers.newThread());</span><br><span class="line">fetchFromYahoo = fetchFromYahoo.subscribeOn(Schedulers.newThread());</span><br></pre></td></tr></table></figure>
<p>To handle the first scenario in which both requests need to run in parallel, you can use the zip operator and subscribe to the Observable it returns.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fetch from both simultaneously</span></span><br><span class="line">Observable&lt;String&gt; zipped </span><br><span class="line">    = Observable.zip(fetchFromGoogle, fetchFromYahoo, <span class="keyword">new</span> Func2&lt;String, String, String&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">call</span><span class="params">(String google, String yahoo)</span> </span>&#123; </span><br><span class="line">            <span class="comment">// Do something with the results of both threads</span></span><br><span class="line">            <span class="keyword">return</span> google + <span class="string">"\n"</span> + yahoo;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p>Similarly, to handle the second scenario, you can use the concat operator to run the threads one after another.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Observable&lt;String&gt; concatenated = Observable.concat(fetchFromGoogle, fetchFromYahoo);</span><br><span class="line"><span class="comment">// Emit the results one after another</span></span><br></pre></td></tr></table></figure>
<h3 id="5-Handling-Events"><a href="#5-Handling-Events" class="headerlink" title="5. Handling Events"></a>5. Handling Events</h3><p>RxAndroid has a class named ViewObservable that makes it easy to handle events associated with View objects. The following code snippet shows you how to create a ViewObservable that can be used to handle the click events of a Button.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Button myButton </span><br><span class="line">    = (Button)findViewById(R.id.my_button); <span class="comment">// Create a Button from a layout</span></span><br><span class="line"> </span><br><span class="line">Observable&lt;OnClickEvent&gt; clicksObservable</span><br><span class="line">    = ViewObservable.clicks(myButton); <span class="comment">// Create a ViewObservable for the Button</span></span><br></pre></td></tr></table></figure>
<p>You can now subscribe to clicksObservable and use any of the operators you learned about in the previous sections. For example, if you want your app to skip the first four clicks of the button and start responding from the fifth click onwards, you could use the following implementation:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">clicksObservable</span><br><span class="line">    .skip(<span class="number">4</span>)    <span class="comment">// Skip the first 4 clicks</span></span><br><span class="line">    .subscribe(<span class="keyword">new</span> Action1&lt;OnClickEvent&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(OnClickEvent onClickEvent)</span> </span>&#123;</span><br><span class="line">            Log.d(<span class="string">"Click Action"</span>, <span class="string">"Clicked!"</span>); </span><br><span class="line">                <span class="comment">// Printed from the fifth click onwards</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p>##Conclusion</p>
<p>In this tutorial, you learned how to use ReactiveX’s observers, observables, and operators to handle multiple asynchronous operations and events. As working with ReactiveX involves functional, reactive programming, a programming paradigm most Android developers are not used to, don’t be too hard on yourself if you don’t get it right the first time. You should also know that ReactiveX code will be a lot more readable if you use a modern programming language, such as Kotlin, that supports higher-order functions.</p>
<p>reference articles:</p>
<p><a href="http://reactivex.io/intro.html" target="_blank" rel="noopener">ReactiveX</a></p>
<p><a href="https://code.tutsplus.com/tutorials/getting-started-with-reactivex-on-android--cms-24387" target="_blank" rel="noopener">Getting Started With ReactiveX on Android</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://dachmx.github.io/2015/10/15/android/usingrxjavaonandroid/" data-id="cjugo67wn000pnkuwdfmf01ox" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ReactiveX/">ReactiveX</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/asynchronous/">asynchronous</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/net/">net</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/netty/">netty</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/retrofit/">retrofit</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android/analysisonnetrequestofandroid" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/12/android/analysisonnetrequestofandroid/" class="article-date">
  <time datetime="2015-10-11T16:00:00.000Z" itemprop="datePublished">2015-10-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/12/android/analysisonnetrequestofandroid/">Analysis on Net Request for Android Dev</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Desc-of-Net-Request"><a href="#Desc-of-Net-Request" class="headerlink" title="Desc of Net Request"></a>Desc of Net Request</h2><p>It’s necessary to analysis on net reqeust for android dev. Almost all android app depend on network on data interchange.</p>
<h2 id="Net-Request"><a href="#Net-Request" class="headerlink" title="Net Request"></a>Net Request</h2><p>Net Request has three levels, simple Json reqeust, native http request and native socket request.</p>
<h3 id="Simple-Json-or-Form-Request"><a href="#Simple-Json-or-Form-Request" class="headerlink" title="Simple Json or Form Request"></a>Simple Json or Form Request</h3><p>Here, let’s retrofit async request as example.</p>
<p>Retrofit turns your HTTP API into a Java interface.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">GitHubService</span> </span>&#123;</span><br><span class="line">  <span class="meta">@GET</span>(<span class="string">"users/&#123;user&#125;/repos"</span>)</span><br><span class="line">  Call&lt;List&lt;Repo&gt;&gt; listRepos(<span class="meta">@Path</span>(<span class="string">"user"</span>) String user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>The Retrofit class generates an implementation of the GitHubService interface.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Retrofit retrofit = <span class="keyword">new</span> Retrofit.Builder()</span><br><span class="line">    .baseUrl(<span class="string">"https://api.github.com/"</span>)</span><br><span class="line">    .build();</span><br><span class="line"></span><br><span class="line">GitHubService service = retrofit.create(GitHubService.class);</span><br></pre></td></tr></table></figure>
<p>Each Call from the created GitHubService can make a synchronous or asynchronous HTTP request to the remote webserver.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Call&lt;List&lt;Repo&gt;&gt; repos = service.listRepos(<span class="string">"octocat"</span>);</span><br></pre></td></tr></table></figure>
<p>Use annotations to describe the HTTP request:</p>
<ul>
<li><p>URL parameter replacement and query parameter support</p>
</li>
<li><p>Object conversion to request body (e.g., JSON, protocol buffers)</p>
</li>
<li><p>Multipart request body and file upload</p>
</li>
</ul>
<p>Form request as follows:</p>
<p>FORM ENCODED AND MULTIPART</p>
<p>Methods can also be declared to send form-encoded and multipart data.</p>
<p>Form-encoded data is sent when <figure class="highlight plain"><figcaption><span>is present on the method. Each key-value pair is annotated with ```@Field``` containing the name and the object providing the value.</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```java</span><br><span class="line">@FormUrlEncoded</span><br><span class="line">@POST(&quot;user/edit&quot;)</span><br><span class="line">Call&lt;User&gt; updateUser(@Field(&quot;first_name&quot;) String first, @Field(&quot;last_name&quot;) String last);</span><br></pre></td></tr></table></figure></p>
<p>Multipart requests are used when <figure class="highlight plain"><figcaption><span>is present on the method. Parts are declared using the ```@Part``` annotation.</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```java</span><br><span class="line">@Multipart</span><br><span class="line">@PUT(&quot;user/photo&quot;)</span><br><span class="line">Call&lt;User&gt; updateUser(@Part(&quot;photo&quot;) RequestBody photo, @Part(&quot;description&quot;) RequestBody description);</span><br></pre></td></tr></table></figure></p>
<h3 id="Native-Http-Request"><a href="#Native-Http-Request" class="headerlink" title="Native Http Request"></a>Native Http Request</h3><p>Native http request allows you composing http packet and upload to server. Here let’s uploading a image as a example. codes as foloows:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">DataOutputStream dos = <span class="keyword">null</span>;</span><br><span class="line">InputStream responseIs = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    operateImage = images[<span class="number">0</span>];</span><br><span class="line">    Uri uri = Uri.parse(operateImage.getResUri());</span><br><span class="line">    String path = uri.getHost() + uri.getPath();</span><br><span class="line">    File file = <span class="keyword">new</span> File(path);</span><br><span class="line">    fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line"></span><br><span class="line">    String end = <span class="string">"\r\n"</span>;</span><br><span class="line">    String twoHyphens = <span class="string">"--"</span>;</span><br><span class="line">    String boundary = <span class="string">"******"</span>;</span><br><span class="line"></span><br><span class="line">    URL url = <span class="keyword">new</span> URL(urlString);</span><br><span class="line">    HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * setting http packet header</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">// setting the packet size, in case of phone crashing for out memory</span></span><br><span class="line">    <span class="comment">//httpURLConnection.setChunkedStreamingMode(1280 * 1024);// 1280K</span></span><br><span class="line">    <span class="comment">// allow input and output</span></span><br><span class="line">    httpURLConnection.setDoInput(<span class="keyword">true</span>);</span><br><span class="line">    httpURLConnection.setDoOutput(<span class="keyword">true</span>);</span><br><span class="line">    httpURLConnection.setUseCaches(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * setting fields</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    httpURLConnection.setRequestMethod(<span class="string">"POST"</span>);</span><br><span class="line">    httpURLConnection.setRequestProperty(<span class="string">"Connection"</span>, <span class="string">"Keep-Alive"</span>);</span><br><span class="line">    httpURLConnection.setRequestProperty(<span class="string">"Charset"</span>, <span class="string">"UTF-8"</span>);</span><br><span class="line">    httpURLConnection.setRequestProperty(<span class="string">"Content-Type"</span>,</span><br><span class="line">            <span class="string">"multipart/form-data;boundary="</span> + boundary);</span><br><span class="line">    httpURLConnection.setConnectTimeout(<span class="number">10</span> * <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// construct the data</span></span><br><span class="line">    StringBuilder textEntity = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">if</span> (params == <span class="keyword">null</span>) &#123;</span><br><span class="line">        params = <span class="keyword">new</span> HashMap&lt;&gt;(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    Iterator&lt;String&gt; iterator = params.keySet().iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">        String key = iterator.next();</span><br><span class="line">        Object value = params.get(key);</span><br><span class="line">        textEntity.append(twoHyphens + boundary + end);</span><br><span class="line">        textEntity.append(<span class="string">"Content-Disposition:form-data;name="</span> + key + end + end);</span><br><span class="line">        textEntity.append(value.toString());</span><br><span class="line">        textEntity.append(end);</span><br><span class="line">    &#125;</span><br><span class="line">    textEntity.append(twoHyphens + boundary + end);</span><br><span class="line">    textEntity.append(<span class="string">"Content-Disposition:form-data;"</span> + <span class="string">"name=\""</span> + paramsFilename + <span class="string">"\";filename=\""</span> + file.getName()</span><br><span class="line">            + <span class="string">"\""</span> + end);</span><br><span class="line">    textEntity.append(end);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * getting http connection</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    dos = <span class="keyword">new</span> DataOutputStream(httpURLConnection.getOutputStream());</span><br><span class="line">    <span class="keyword">byte</span>[] text = textEntity.toString().getBytes();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * setting http body</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    dos.write(text);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> totalSize = fis.available();</span><br><span class="line">    <span class="keyword">int</span> progressSize = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> bufferSize = <span class="number">1024</span> * <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[bufferSize];</span><br><span class="line">    <span class="keyword">int</span> length = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> ((length = fis.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">        dos.write(buffer, <span class="number">0</span>, length);</span><br><span class="line">        progressSize += length;</span><br><span class="line">        publishProgress(progressSize, totalSize);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    dos.writeBytes(end);</span><br><span class="line">    dos.writeBytes(twoHyphens + boundary + twoHyphens + end);</span><br><span class="line">    fis.close();</span><br><span class="line">    dos.flush();</span><br><span class="line"></span><br><span class="line">    responseIs = httpURLConnection.getInputStream();</span><br><span class="line">    String response = readStreamToByteArray(responseIs);</span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (fis != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fis.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            fis = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (dos != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            dos.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            dos = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (responseIs != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            responseIs.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            responseIs = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Native-TCP-IP-Request"><a href="#Native-TCP-IP-Request" class="headerlink" title="Native TCP/IP Request"></a>Native TCP/IP Request</h3><p>Here let’s socket program as example to show the native tcp/ip request.</p>
<h4 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h4><p>udp sever codes as follows:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.SocketException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UdpServer</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// declare UPD socket,DatagramSocket</span></span><br><span class="line">		DatagramSocket socket = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// port</span></span><br><span class="line">			socket = <span class="keyword">new</span> DatagramSocket(<span class="number">1234</span>);</span><br><span class="line">			<span class="comment">// buffer</span></span><br><span class="line">			<span class="keyword">byte</span> data[] = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">512</span>];</span><br><span class="line">			<span class="comment">// write data</span></span><br><span class="line">			DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(data, data.length);</span><br><span class="line">			<span class="comment">// block to receive msg from client</span></span><br><span class="line">			socket.receive(packet);</span><br><span class="line">            </span><br><span class="line">			String msg = <span class="keyword">new</span> String(packet.getData(), packet.getOffset(),</span><br><span class="line">					packet.getLength());</span><br><span class="line">			System.out.println(msg);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (SocketException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			socket.close();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>udp client codes as follows:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.SocketException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UdpClient</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		DatagramSocket socket = <span class="keyword">null</span>;</span><br><span class="line">		String msg = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			socket = <span class="keyword">new</span> DatagramSocket();</span><br><span class="line">			<span class="comment">// read from standard input</span></span><br><span class="line">			BufferedReader reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(</span><br><span class="line">					System.in));</span><br><span class="line">			<span class="keyword">while</span> (!(msg = reader.readLine()).equalsIgnoreCase(<span class="string">"exit"</span>)) &#123;</span><br><span class="line">				<span class="comment">// contruct to server</span></span><br><span class="line">				InetAddress serverAddress = InetAddress.getByName(<span class="string">"127.0.0.1"</span>);</span><br><span class="line">				<span class="comment">// </span></span><br><span class="line">				DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(msg.getBytes(),</span><br><span class="line">						msg.getBytes().length, serverAddress, <span class="number">1234</span>);</span><br><span class="line">				<span class="comment">// send msg</span></span><br><span class="line">				socket.send(packet);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (SocketException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			socket.close();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h4><p>tcp server codes as follows:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TcpServer</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// declare a server socket</span></span><br><span class="line">		ServerSocket serverSocket = <span class="keyword">null</span>;</span><br><span class="line">		<span class="comment">// declare a socket watting for client conn</span></span><br><span class="line">		Socket socket = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="keyword">int</span> temp;</span><br><span class="line">			<span class="comment">// port</span></span><br><span class="line">			serverSocket = <span class="keyword">new</span> ServerSocket(<span class="number">5937</span>);</span><br><span class="line">			<span class="comment">// block to conn</span></span><br><span class="line">			socket = serverSocket.accept();</span><br><span class="line">			<span class="comment">// get input from client</span></span><br><span class="line">			InputStream inputStream = socket.getInputStream();</span><br><span class="line">			<span class="comment">// reading and print</span></span><br><span class="line">			<span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">512</span>];</span><br><span class="line">			<span class="keyword">while</span> ((temp = inputStream.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">				System.out.println(<span class="keyword">new</span> String(buffer, <span class="number">0</span>, temp));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				socket.close();</span><br><span class="line">				serverSocket.close();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>tcp client as follows:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> me.bym.tcp;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.net.UnknownHostException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TcpClient</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// declare a socket</span></span><br><span class="line">		Socket socket = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			String msg = <span class="keyword">null</span>;</span><br><span class="line">			<span class="comment">// connect to server</span></span><br><span class="line">			socket = <span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>, <span class="number">5937</span>);</span><br><span class="line">			<span class="comment">// get input from keyboard (standard input)</span></span><br><span class="line">			BufferedReader reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">			OutputStream outputStream = socket.getOutputStream();</span><br><span class="line">			<span class="keyword">while</span> (!(msg = reader.readLine()).equalsIgnoreCase(<span class="string">"exit"</span>)) &#123;</span><br><span class="line">				outputStream.write(msg.getBytes());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (UnknownHostException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				socket.close();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>By the way, you can use other framework to contruct tcp/ip server and client, like<a href="http://netty.io/index.html" target="_blank" rel="noopener">Netty</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://dachmx.github.io/2015/10/12/android/analysisonnetrequestofandroid/" data-id="cjugo67vc000ankuwcjc0vjgv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/net/">net</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/netty/">netty</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/request/">request</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/retrofit/">retrofit</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tcp-ip/">tcp/ip</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-architecture/learninglivetechnologyoftaobao" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/10/architecture/learninglivetechnologyoftaobao/" class="article-date">
  <time datetime="2015-10-09T16:00:00.000Z" itemprop="datePublished">2015-10-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/10/architecture/learninglivetechnologyoftaobao/">Learning The Live Technology of Taobao</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Continue Writting</p>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><p><a href="http://dachmx.github.io/design-of-high-concurrency-architecture-of-live-platform.html">Design of High Concurrency Architecture of Live Platform</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://dachmx.github.io/2015/10/10/architecture/learninglivetechnologyoftaobao/" data-id="cjugo7ont0008zsuwcfo9vs9b" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/architecture/">architecture</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/learning/">learning</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/live/">live</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tech/">tech</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android/gettingstartreactimplementationforandroidapp" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/10/android/gettingstartreactimplementationforandroidapp/" class="article-date">
  <time datetime="2015-10-09T16:00:00.000Z" itemprop="datePublished">2015-10-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/10/android/gettingstartreactimplementationforandroidapp/">Getting Start Building Android App with React Native</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Introduce"><a href="#Introduce" class="headerlink" title="Introduce"></a>Introduce</h2><p>React (sometimes styled React.js or ReactJS) is an open-source JavaScript library providing a view for data rendered as HTML. React views are typically rendered using components that contain additional components specified as custom HTML tags. React promises programmers a model in which subcomponents cannot directly affect enclosing components (“data flows down”); efficient updating of the HTML document when data changes; and a clean separation between components on a modern single-page application.</p>
<p>It is maintained by Facebook, Instagram and a community of individual developers and corporations.According to JavaScript analytics service Libscore, React is currently being used on the websites of Netflix, Imgur, Bleacher Report, Feedly, Airbnb, SeatGeek, HelloSign, and others.</p>
<h2 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h2><h3 id="Installing-Dependencies"><a href="#Installing-Dependencies" class="headerlink" title="Installing Dependencies"></a>Installing Dependencies</h3><p>We recommend installing Node.js and Python2 via Chocolatey, a popular package manager for Windows. Open a Command Prompt as Administrator, then run:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">choco install nodejs.install</span><br><span class="line">choco install python2</span><br></pre></td></tr></table></figure></p>
<h3 id="The-React-Native-CLI"><a href="#The-React-Native-CLI" class="headerlink" title="The React Native CLI"></a>The React Native CLI</h3><p>Node comes with npm, which lets you install the React Native command line interface.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g react-<span class="keyword">native</span>-cli</span><br></pre></td></tr></table></figure></p>
<h3 id="Constructing-Android-Development-Environment"><a href="#Constructing-Android-Development-Environment" class="headerlink" title="Constructing Android Development Environment"></a>Constructing Android Development Environment</h3><p>Setting up your development environment can be somewhat tedious if you’re new to Android development. If you’re already familiar with Android development, there are a few things you may need to configure. In either case, please make sure to carefully follow the next few steps.</p>
<h3 id="Testing-your-React-Native-Installation"><a href="#Testing-your-React-Native-Installation" class="headerlink" title="Testing your React Native Installation"></a>Testing your React Native Installation</h3><p>Use the React Native command line interface to generate a new React Native project called “AwesomeProject”, then run react-native run-android inside the newly created folder.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">react-<span class="keyword">native</span> init AwesomeProject</span><br><span class="line">cd AwesomeProject</span><br><span class="line">react-<span class="keyword">native</span> run-android</span><br></pre></td></tr></table></figure>
<p>If everything is set up correctly, you should see your new app running in your Android emulator shortly.</p>
<p>you can modify the app by change the react <figure class="highlight plain"><figcaption><span>HelloWorld for react-native codes as follows:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```javascript</span><br><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &#123; AppRegistry, Text &#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">class HelloWorldApp extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;Text&gt;Hello world!&lt;/Text&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">AppRegistry.registerComponent(&apos;HelloWorldApp&apos;, () =&gt; HelloWorldApp);</span><br></pre></td></tr></table></figure></p>
<p>Alibaba team creates another tools to build apk, called <a href="https://alibaba.github.io/weex/" target="_blank" rel="noopener">weex</a></p>
<p>referece articles:</p>
<p><a href="https://en.wikipedia.org/wiki/React_(JavaScript_library" target="_blank" rel="noopener">react wiki</a>)</p>
<p><a href="https://facebook.github.io/react-native/" target="_blank" rel="noopener">react-native</a></p>
<p><a href="https://alibaba.github.io/weex/" target="_blank" rel="noopener">weex</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://dachmx.github.io/2015/10/10/android/gettingstartreactimplementationforandroidapp/" data-id="cjugo67wn000inkuw12vgoj0i" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apk/">apk</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/app/">app</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react-native/">react native</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/DI/">DI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IoC/">IoC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Monitor/">Monitor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactiveX/">ReactiveX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aar/">aar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ad/">ad</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/adaptation/">adaptation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/advice/">advice</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ai/">ai</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aidl/">aidl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/">algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/allegrograph/">allegrograph</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/analysis/">analysis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apk/">apk</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/app/">app</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/application/">application</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/architecture/">architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asm/">asm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asynchronous/">asynchronous</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/auto/">auto</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automatic/">automatic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/awk/">awk</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/back/">back</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bash/">bash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bird-view/">bird view</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bitmap/">bitmap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bootloader/">bootloader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bootrap/">bootrap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cayley/">cayley</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cipher/">cipher</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/click/">click</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/commontool/">commontool</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/construct/">construct</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ctf/">ctf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ctrip/">ctrip</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/data/">data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/data-analysis/">data analysis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/">database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/debugging/">debugging</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deep-learning/">deep learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deeplearn/">deeplearn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design/">design</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dev/">dev</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dex/">dex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/diary/">diary</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dubbo/">dubbo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/event/">event</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fastboot/">fastboot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fastlane/">fastlane</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fix/">fix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flockdb/">flockdb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fragment/">fragment</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/frontend/">frontend</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gettingstart/">gettingstart</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle/">gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/graph/">graph</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/graphics/">graphics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hacking/">hacking</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/handler/">handler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/high-concurrency/">high concurrency</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hot-fix/">hot fix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hotfix/">hotfix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/https/">https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ibinder/">ibinder</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/inaction/">inaction</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/infinitegraph/">infinitegraph</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jmlr/">jmlr</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kernel/">kernel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kylin/">kylin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/layout/">layout</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/learning/">learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/library/">library</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/">life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/live/">live</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/local/">local</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/looper/">looper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/machine-learning/">machine learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/message/">message</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ml/">ml</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile/">mobile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mood/">mood</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/multi-classification/">multi-classification</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/multi-dimensional/">multi-dimensional</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/multidex/">multidex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mvc/">mvc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/neo4j/">neo4j</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/net/">net</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/netty/">netty</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/">network</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nio/">nio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nuomi/">nuomi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nuwa/">nuwa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/optimization/">optimization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/performance/">performance</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/permission/">permission</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/platform/">platform</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/plugin/">plugin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/process/">process</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/production/">production</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/protection/">protection</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/queue/">queue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/">react native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/recovery/">recovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/remote/">remote</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/request/">request</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/responsive/">responsive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/restful/">restful</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/retrofit/">retrofit</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reversing/">reversing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rom/">rom</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/safe-mode/">safe mode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scroller/">scroller</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/secure/">secure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/security/">security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/service/">service</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sklearn/">sklearn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sourcecode/">sourcecode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/">spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springboot/">springboot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springframework/">springframework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statusbar/">statusbar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/support-vector-machine/">support vector machine</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svd/">svd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svm/">svm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tcp-ip/">tcp/ip</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tech/">tech</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tensorflow/">tensorflow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/testing/">testing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/title-bar/">title bar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tmall/">tmall</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/touch/">touch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/update/">update</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/view/">view</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/viewpager/">viewpager</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webview/">webview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/window/">window</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/writeup/">writeup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/">zookeeper</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/DI/" style="font-size: 10px;">DI</a> <a href="/tags/IoC/" style="font-size: 10px;">IoC</a> <a href="/tags/Monitor/" style="font-size: 10px;">Monitor</a> <a href="/tags/ReactiveX/" style="font-size: 10px;">ReactiveX</a> <a href="/tags/aar/" style="font-size: 11.43px;">aar</a> <a href="/tags/ad/" style="font-size: 10px;">ad</a> <a href="/tags/adaptation/" style="font-size: 10px;">adaptation</a> <a href="/tags/advice/" style="font-size: 10px;">advice</a> <a href="/tags/ai/" style="font-size: 10px;">ai</a> <a href="/tags/aidl/" style="font-size: 11.43px;">aidl</a> <a href="/tags/algorithm/" style="font-size: 17.14px;">algorithm</a> <a href="/tags/allegrograph/" style="font-size: 10px;">allegrograph</a> <a href="/tags/analysis/" style="font-size: 12.86px;">analysis</a> <a href="/tags/android/" style="font-size: 11.43px;">android</a> <a href="/tags/animation/" style="font-size: 10px;">animation</a> <a href="/tags/apk/" style="font-size: 10px;">apk</a> <a href="/tags/app/" style="font-size: 10px;">app</a> <a href="/tags/application/" style="font-size: 10px;">application</a> <a href="/tags/architecture/" style="font-size: 12.86px;">architecture</a> <a href="/tags/asm/" style="font-size: 10px;">asm</a> <a href="/tags/asynchronous/" style="font-size: 10px;">asynchronous</a> <a href="/tags/auto/" style="font-size: 11.43px;">auto</a> <a href="/tags/automatic/" style="font-size: 11.43px;">automatic</a> <a href="/tags/awk/" style="font-size: 10px;">awk</a> <a href="/tags/back/" style="font-size: 10px;">back</a> <a href="/tags/bash/" style="font-size: 10px;">bash</a> <a href="/tags/bird-view/" style="font-size: 11.43px;">bird view</a> <a href="/tags/bitmap/" style="font-size: 10px;">bitmap</a> <a href="/tags/bootloader/" style="font-size: 10px;">bootloader</a> <a href="/tags/bootrap/" style="font-size: 10px;">bootrap</a> <a href="/tags/cayley/" style="font-size: 10px;">cayley</a> <a href="/tags/cipher/" style="font-size: 10px;">cipher</a> <a href="/tags/click/" style="font-size: 10px;">click</a> <a href="/tags/commontool/" style="font-size: 11.43px;">commontool</a> <a href="/tags/construct/" style="font-size: 10px;">construct</a> <a href="/tags/ctf/" style="font-size: 11.43px;">ctf</a> <a href="/tags/ctrip/" style="font-size: 10px;">ctrip</a> <a href="/tags/data/" style="font-size: 10px;">data</a> <a href="/tags/data-analysis/" style="font-size: 12.86px;">data analysis</a> <a href="/tags/database/" style="font-size: 11.43px;">database</a> <a href="/tags/debugging/" style="font-size: 11.43px;">debugging</a> <a href="/tags/deep-learning/" style="font-size: 10px;">deep learning</a> <a href="/tags/deeplearn/" style="font-size: 11.43px;">deeplearn</a> <a href="/tags/design/" style="font-size: 11.43px;">design</a> <a href="/tags/dev/" style="font-size: 10px;">dev</a> <a href="/tags/dex/" style="font-size: 10px;">dex</a> <a href="/tags/diary/" style="font-size: 11.43px;">diary</a> <a href="/tags/dubbo/" style="font-size: 10px;">dubbo</a> <a href="/tags/event/" style="font-size: 10px;">event</a> <a href="/tags/fastboot/" style="font-size: 10px;">fastboot</a> <a href="/tags/fastlane/" style="font-size: 10px;">fastlane</a> <a href="/tags/fix/" style="font-size: 10px;">fix</a> <a href="/tags/flockdb/" style="font-size: 10px;">flockdb</a> <a href="/tags/fragment/" style="font-size: 10px;">fragment</a> <a href="/tags/frontend/" style="font-size: 10px;">frontend</a> <a href="/tags/gettingstart/" style="font-size: 20px;">gettingstart</a> <a href="/tags/gradle/" style="font-size: 10px;">gradle</a> <a href="/tags/graph/" style="font-size: 10px;">graph</a> <a href="/tags/graphics/" style="font-size: 11.43px;">graphics</a> <a href="/tags/hacking/" style="font-size: 11.43px;">hacking</a> <a href="/tags/handler/" style="font-size: 10px;">handler</a> <a href="/tags/high-concurrency/" style="font-size: 12.86px;">high concurrency</a> <a href="/tags/hot-fix/" style="font-size: 10px;">hot fix</a> <a href="/tags/hotfix/" style="font-size: 10px;">hotfix</a> <a href="/tags/https/" style="font-size: 10px;">https</a> <a href="/tags/ibinder/" style="font-size: 11.43px;">ibinder</a> <a href="/tags/inaction/" style="font-size: 10px;">inaction</a> <a href="/tags/infinitegraph/" style="font-size: 10px;">infinitegraph</a> <a href="/tags/javascript/" style="font-size: 11.43px;">javascript</a> <a href="/tags/jmlr/" style="font-size: 10px;">jmlr</a> <a href="/tags/kernel/" style="font-size: 10px;">kernel</a> <a href="/tags/kylin/" style="font-size: 10px;">kylin</a> <a href="/tags/layout/" style="font-size: 10px;">layout</a> <a href="/tags/learning/" style="font-size: 11.43px;">learning</a> <a href="/tags/library/" style="font-size: 10px;">library</a> <a href="/tags/life/" style="font-size: 11.43px;">life</a> <a href="/tags/linux/" style="font-size: 12.86px;">linux</a> <a href="/tags/live/" style="font-size: 11.43px;">live</a> <a href="/tags/local/" style="font-size: 10px;">local</a> <a href="/tags/looper/" style="font-size: 10px;">looper</a> <a href="/tags/machine-learning/" style="font-size: 15.71px;">machine learning</a> <a href="/tags/maven/" style="font-size: 11.43px;">maven</a> <a href="/tags/message/" style="font-size: 10px;">message</a> <a href="/tags/ml/" style="font-size: 11.43px;">ml</a> <a href="/tags/mobile/" style="font-size: 11.43px;">mobile</a> <a href="/tags/mood/" style="font-size: 11.43px;">mood</a> <a href="/tags/multi-classification/" style="font-size: 10px;">multi-classification</a> <a href="/tags/multi-dimensional/" style="font-size: 10px;">multi-dimensional</a> <a href="/tags/multidex/" style="font-size: 10px;">multidex</a> <a href="/tags/mvc/" style="font-size: 15.71px;">mvc</a> <a href="/tags/neo4j/" style="font-size: 10px;">neo4j</a> <a href="/tags/net/" style="font-size: 18.57px;">net</a> <a href="/tags/netty/" style="font-size: 15.71px;">netty</a> <a href="/tags/network/" style="font-size: 10px;">network</a> <a href="/tags/nio/" style="font-size: 10px;">nio</a> <a href="/tags/nuomi/" style="font-size: 10px;">nuomi</a> <a href="/tags/nuwa/" style="font-size: 10px;">nuwa</a> <a href="/tags/optimization/" style="font-size: 10px;">optimization</a> <a href="/tags/performance/" style="font-size: 10px;">performance</a> <a href="/tags/permission/" style="font-size: 10px;">permission</a> <a href="/tags/platform/" style="font-size: 14.29px;">platform</a> <a href="/tags/plugin/" style="font-size: 10px;">plugin</a> <a href="/tags/process/" style="font-size: 10px;">process</a> <a href="/tags/production/" style="font-size: 10px;">production</a> <a href="/tags/protection/" style="font-size: 10px;">protection</a> <a href="/tags/queue/" style="font-size: 10px;">queue</a> <a href="/tags/react-native/" style="font-size: 10px;">react native</a> <a href="/tags/recovery/" style="font-size: 10px;">recovery</a> <a href="/tags/remote/" style="font-size: 10px;">remote</a> <a href="/tags/request/" style="font-size: 11.43px;">request</a> <a href="/tags/responsive/" style="font-size: 10px;">responsive</a> <a href="/tags/restful/" style="font-size: 15.71px;">restful</a> <a href="/tags/retrofit/" style="font-size: 11.43px;">retrofit</a> <a href="/tags/reversing/" style="font-size: 11.43px;">reversing</a> <a href="/tags/rom/" style="font-size: 10px;">rom</a> <a href="/tags/safe-mode/" style="font-size: 10px;">safe mode</a> <a href="/tags/scroller/" style="font-size: 11.43px;">scroller</a> <a href="/tags/secure/" style="font-size: 11.43px;">secure</a> <a href="/tags/security/" style="font-size: 10px;">security</a> <a href="/tags/service/" style="font-size: 11.43px;">service</a> <a href="/tags/shell/" style="font-size: 11.43px;">shell</a> <a href="/tags/sklearn/" style="font-size: 11.43px;">sklearn</a> <a href="/tags/sourcecode/" style="font-size: 10px;">sourcecode</a> <a href="/tags/spring/" style="font-size: 18.57px;">spring</a> <a href="/tags/springboot/" style="font-size: 10px;">springboot</a> <a href="/tags/springframework/" style="font-size: 18.57px;">springframework</a> <a href="/tags/statusbar/" style="font-size: 10px;">statusbar</a> <a href="/tags/support-vector-machine/" style="font-size: 12.86px;">support vector machine</a> <a href="/tags/svd/" style="font-size: 10px;">svd</a> <a href="/tags/svm/" style="font-size: 12.86px;">svm</a> <a href="/tags/tcp-ip/" style="font-size: 10px;">tcp/ip</a> <a href="/tags/tech/" style="font-size: 10px;">tech</a> <a href="/tags/tensorflow/" style="font-size: 12.86px;">tensorflow</a> <a href="/tags/testing/" style="font-size: 10px;">testing</a> <a href="/tags/title-bar/" style="font-size: 10px;">title bar</a> <a href="/tags/tmall/" style="font-size: 10px;">tmall</a> <a href="/tags/touch/" style="font-size: 10px;">touch</a> <a href="/tags/update/" style="font-size: 10px;">update</a> <a href="/tags/view/" style="font-size: 10px;">view</a> <a href="/tags/viewpager/" style="font-size: 10px;">viewpager</a> <a href="/tags/webview/" style="font-size: 11.43px;">webview</a> <a href="/tags/window/" style="font-size: 10px;">window</a> <a href="/tags/writeup/" style="font-size: 11.43px;">writeup</a> <a href="/tags/zookeeper/" style="font-size: 10px;">zookeeper</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">March 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">January 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/04/10/ml/AdaptationBasedonGeneralizedDiscrepancy/">Adaptation Based on Generalized Discrepancy</a>
          </li>
        
          <li>
            <a href="/2017/10/31/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2017/05/04/security/analysisofpermissionaccessinglocalfileleakedfromwebview/">Analysis of Permission Accessing local file Leaked from Android WebView</a>
          </li>
        
          <li>
            <a href="/2016/11/02/mathalg/matrixcompletionandlowranksvdviafastalternatingleastsquares/">Matrix Completion and Low-Rank SVD via Fast Alternating Least Squares (JMLR)</a>
          </li>
        
          <li>
            <a href="/2016/08/15/android/startproectedontmall/">The final rescue plan - safe mode</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 dachmx<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo and dachmx</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>